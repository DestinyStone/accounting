{"version":3,"file":"js/798.d1662f4a.js","mappings":"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","sources":["webpack://demo/./src/views/EnterpriseInit.vue","webpack://demo/src/views/EnterpriseInit.vue","webpack://demo/./src/views/EnterpriseInit.vue?c157","webpack://demo/./src/views/EnterpriseInit.vue?4400","webpack://demo/./src/api/request.js"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"enterprise-init-container\"},[_c('el-card',{staticClass:\"init-card\"},[_c('div',{attrs:{\"slot\":\"header\"},slot:\"header\"},[_c('span',[_vm._v(\"企业信息初始化\")])]),_c('el-form',{ref:\"enterpriseFormRef\",attrs:{\"model\":_vm.enterpriseForm,\"rules\":_vm.rules,\"label-width\":\"120px\"}},[_c('el-form-item',{attrs:{\"label\":\"企业名称\",\"prop\":\"name\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入企业名称\"},model:{value:(_vm.enterpriseForm.name),callback:function ($$v) {_vm.$set(_vm.enterpriseForm, \"name\", $$v)},expression:\"enterpriseForm.name\"}})],1),_c('el-form-item',{attrs:{\"label\":\"注册资本\",\"prop\":\"registrationCapital\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入注册资本（万元）\"},scopedSlots:_vm._u([{key:\"append\",fn:function(){return [_vm._v(\"万元\")]},proxy:true}]),model:{value:(_vm.enterpriseForm.registrationCapital),callback:function ($$v) {_vm.$set(_vm.enterpriseForm, \"registrationCapital\", _vm._n($$v))},expression:\"enterpriseForm.registrationCapital\"}})],1),_c('el-form-item',{attrs:{\"label\":\"公司地址\",\"prop\":\"address\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入公司地址\"},model:{value:(_vm.enterpriseForm.address),callback:function ($$v) {_vm.$set(_vm.enterpriseForm, \"address\", $$v)},expression:\"enterpriseForm.address\"}})],1),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"large\"},on:{\"click\":_vm.submitForm}},[_vm._v(\"提交保存\")]),_c('el-button',{attrs:{\"size\":\"large\"},on:{\"click\":_vm.handleReset}},[_vm._v(\"重置表单\")])],1)],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"enterprise-init-container\">\n    <el-card class=\"init-card\">\n      <div slot=\"header\">\n        <span>企业信息初始化</span>\n      </div>\n      <el-form :model=\"enterpriseForm\" :rules=\"rules\" ref=\"enterpriseFormRef\" label-width=\"120px\">\n        <el-form-item label=\"企业名称\" prop=\"name\">\n          <el-input v-model=\"enterpriseForm.name\" placeholder=\"请输入企业名称\"></el-input>\n        </el-form-item>\n\n        <el-form-item label=\"注册资本\" prop=\"registrationCapital\">\n          <el-input v-model.number=\"enterpriseForm.registrationCapital\" placeholder=\"请输入注册资本（万元）\">\n            <template #append>万元</template>\n          </el-input>\n        </el-form-item>\n        <el-form-item label=\"公司地址\" prop=\"address\">\n          <el-input v-model=\"enterpriseForm.address\" placeholder=\"请输入公司地址\"></el-input>\n        </el-form-item>\n\n        <el-form-item>\n          <el-button type=\"primary\" @click=\"submitForm\" size=\"large\">提交保存</el-button>\n          <el-button @click=\"handleReset\" size=\"large\">重置表单</el-button>\n        </el-form-item>\n      </el-form>\n    </el-card>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'EnterpriseInit',\n  data() {\n    return {\n      enterpriseForm: {\n        name: '',\n        registrationCapital: null,\n        address: ''\n      },\n      rules: {\n        name: [\n          { required: true, message: '请输入企业名称', trigger: 'blur' }\n        ],\n\n        registrationCapital: [\n          { required: true, message: '请输入注册资本', trigger: 'blur' },\n        ],\n        address: [\n          { required: true, message: '请输入公司地址', trigger: 'change' }\n        ],\n\n      }\n    }\n  },\n  created() {\n    this.loadEnterpriseInfo()\n  },\n  methods: {\n      async loadEnterpriseInfo() {\n        try {\n          // 使用封装的API请求方法\n          const request = require('../api/request').default\n          const res = await request.get('/enterprise/info')\n          if (res.code === 200 && res.data) {\n            this.enterpriseForm = res.data\n          }\n        } catch (error) {\n          console.log('获取企业信息失败')\n        }\n      },\n      async submitForm() {\n        this.$refs.enterpriseFormRef.validate(async (valid) => {\n          if (valid) {\n            try {\n              // 使用封装的API请求方法\n              const request = require('../api/request').default\n              const res = await request.post('/enterprise/init', this.enterpriseForm)\n              if (res.code === 200) {\n                this.$store.dispatch('setEnterpriseInfo', this.enterpriseForm)\n                this.$message.success('企业信息初始化成功')\n              } else {\n                this.$message.error(res.message || '企业信息初始化失败')\n              }\n            } catch (error) {\n              this.$message.error('企业信息初始化失败')\n            }\n          }\n        })\n      },\n    handleReset() {\n      this.$refs.enterpriseFormRef.resetFields()\n    }\n  }\n}\n</script>\n\n<style scoped>\n.enterprise-init-container {\n  padding: 20px;\n}\n\n.init-card {\n  max-width: 800px;\n  margin: 0 auto;\n}\n</style>\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./EnterpriseInit.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./EnterpriseInit.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./EnterpriseInit.vue?vue&type=template&id=b24b348e&scoped=true\"\nimport script from \"./EnterpriseInit.vue?vue&type=script&lang=js\"\nexport * from \"./EnterpriseInit.vue?vue&type=script&lang=js\"\nimport style0 from \"./EnterpriseInit.vue?vue&type=style&index=0&id=b24b348e&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"b24b348e\",\n  null\n  \n)\n\nexport default component.exports","import axios from 'axios'\nimport store from '../store'\nimport { Message } from 'element-ui'\n\n// 创建axios实例\nconst service = axios.create({\n  timeout: 5000\n})\n\n// 请求拦截器\nservice.interceptors.request.use(\n  config => {\n    // 添加token\n    if (store.state.token) {\n      config.headers['Authorization'] = 'Bearer ' + store.state.token\n    }\n    return config\n  },\n  error => {\n    console.log(error)\n    return Promise.reject(error)\n  }\n)\n\n// 响应拦截器\nservice.interceptors.response.use(\n  response => {\n    const res = response.data\n    if (res.code !== 200) {\n      Message({\n        message: res.message || '请求失败',\n        type: 'error',\n        duration: 5 * 1000\n      })\n      return Promise.reject(new Error(res.message || '请求失败'))\n    } else {\n      return res\n    }\n  },\n  error => {\n    if (error.response && error.response.status === 401) {\n      // 未授权，清除token并跳转到登录页\n      store.dispatch('logout')\n      location.reload()\n    }\n    Message({\n      message: error.message || '网络异常',\n      type: 'error',\n      duration: 5 * 1000\n    })\n    return Promise.reject(error)\n  }\n)\n\nexport default service"],"names":["render","_vm","this","_c","_self","staticClass","attrs","slot","_v","ref","enterpriseForm","rules","model","value","name","callback","$$v","$set","expression","scopedSlots","_u","key","fn","proxy","registrationCapital","_n","address","on","submitForm","handleReset","staticRenderFns","data","required","message","trigger","created","loadEnterpriseInfo","methods","request","require","res","get","code","error","console","log","$refs","enterpriseFormRef","validate","valid","post","$store","dispatch","$message","success","resetFields","component","service","axios","create","timeout","interceptors","use","config","store","state","token","headers","Promise","reject","response","Message","type","duration","Error","status","location","reload"],"ignoreList":[],"sourceRoot":""}