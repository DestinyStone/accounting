{"version":3,"file":"js/891.7bd22b4d.js","mappings":"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","sources":["webpack://demo/./src/views/TaxHandling.vue","webpack://demo/./src/api/taxHandlingApi.js","webpack://demo/src/views/TaxHandling.vue","webpack://demo/./src/views/TaxHandling.vue?7a84","webpack://demo/./src/views/TaxHandling.vue?1b0c"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('el-card',{staticClass:\"tax-handling-container\"},[_c('div',{staticClass:\"clearfix\",attrs:{\"slot\":\"header\"},slot:\"header\"},[_c('span',[_vm._v(\"税务处理\")]),_c('el-button',{staticStyle:{\"float\":\"right\",\"margin-right\":\"10px\"},attrs:{\"type\":\"primary\",\"size\":\"small\"},on:{\"click\":_vm.handleAddTax}},[_vm._v(\"新增税务处理\")])],1),_c('div',{staticClass:\"search-container\"},[_c('el-form',{staticClass:\"search-form\",attrs:{\"inline\":true,\"model\":_vm.searchForm}},[_c('el-form-item',{attrs:{\"label\":\"税务类型：\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择税务类型\"},model:{value:(_vm.searchForm.taxType),callback:function ($$v) {_vm.$set(_vm.searchForm, \"taxType\", $$v)},expression:\"searchForm.taxType\"}},[_c('el-option',{attrs:{\"label\":\"增值税\",\"value\":\"vat\"}}),_c('el-option',{attrs:{\"label\":\"企业所得税\",\"value\":\"income_tax\"}}),_c('el-option',{attrs:{\"label\":\"城市维护建设税\",\"value\":\"urban_tax\"}}),_c('el-option',{attrs:{\"label\":\"教育费附加\",\"value\":\"education_surcharge\"}})],1)],1),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.handleSearch}},[_vm._v(\"查询\")]),_c('el-button',{on:{\"click\":_vm.handleReset}},[_vm._v(\"重置\")])],1)],1)],1),_c('div',{staticClass:\"table-container\"},[_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.taxList}},[_c('el-table-column',{attrs:{\"prop\":\"taxPeriod\",\"label\":\"税务期间\"}}),_c('el-table-column',{attrs:{\"prop\":\"taxType\",\"label\":\"税务类型\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',[_vm._v(_vm._s(_vm.getTaxTypeName(scope.row.taxType)))])]}}])}),_c('el-table-column',{attrs:{\"prop\":\"taxAmount\",\"label\":\"应纳税额\"}}),_c('el-table-column',{attrs:{\"prop\":\"status\",\"label\":\"处理状态\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-tag',{attrs:{\"type\":_vm.getStatusType(scope.row.status)}},[_vm._v(_vm._s(_vm.getStatusName(scope.row.status)))])]}}])}),_c('el-table-column',{attrs:{\"prop\":\"paymentDate\",\"label\":\"缴款日期\"}}),_c('el-table-column',{attrs:{\"label\":\"操作\",\"width\":\"150\",\"fixed\":\"right\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.status !== 2)?_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"primary\"},on:{\"click\":function($event){return _vm.handleEdit(scope.row)}}},[_vm._v(\"编辑\")]):_vm._e(),([0].includes(scope.row.status))?_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"success\"},on:{\"click\":function($event){return _vm.handleDeclare(scope.row)}}},[_vm._v(\"申报\")]):_vm._e(),(scope.row.status === 1)?_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"warning\"},on:{\"click\":function($event){return _vm.handlePay(scope.row)}}},[_vm._v(\"缴款\")]):_vm._e()]}}])})],1),_c('div',{staticClass:\"pagination-container\"},[_c('el-pagination',{attrs:{\"current-page\":_vm.pageInfo.currentPage,\"page-sizes\":[10, 20, 50, 100],\"page-size\":_vm.pageInfo.pageSize,\"layout\":\"total, sizes, prev, pager, next, jumper\",\"total\":_vm.pageInfo.total},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange}})],1)],1),_c('el-dialog',{attrs:{\"title\":_vm.dialogTitle,\"visible\":_vm.dialogVisible,\"width\":\"600px\",\"close-on-click-modal\":false},on:{\"update:visible\":function($event){_vm.dialogVisible=$event}}},[_c('el-form',{ref:\"formRef\",attrs:{\"model\":_vm.formData,\"rules\":_vm.rules,\"label-width\":\"120px\"}},[_c('el-form-item',{attrs:{\"label\":\"税务期间\",\"prop\":\"taxPeriod\"}},[_c('el-date-picker',{staticStyle:{\"width\":\"100%\"},attrs:{\"type\":\"month\",\"placeholder\":\"选择月份\",\"disabled\":_vm.dialogMode === 'view'},model:{value:(_vm.formData.taxPeriod),callback:function ($$v) {_vm.$set(_vm.formData, \"taxPeriod\", $$v)},expression:\"formData.taxPeriod\"}})],1),_c('el-form-item',{attrs:{\"label\":\"税务类型\",\"prop\":\"taxType\"}},[_c('el-select',{staticStyle:{\"width\":\"100%\"},attrs:{\"placeholder\":\"请选择税务类型\",\"disabled\":_vm.dialogMode === 'view'},model:{value:(_vm.formData.taxType),callback:function ($$v) {_vm.$set(_vm.formData, \"taxType\", $$v)},expression:\"formData.taxType\"}},[_c('el-option',{attrs:{\"label\":\"增值税\",\"value\":\"vat\"}}),_c('el-option',{attrs:{\"label\":\"企业所得税\",\"value\":\"income_tax\"}}),_c('el-option',{attrs:{\"label\":\"城市维护建设税\",\"value\":\"urban_tax\"}}),_c('el-option',{attrs:{\"label\":\"教育费附加\",\"value\":\"education_surcharge\"}})],1)],1),_c('el-form-item',{attrs:{\"label\":\"应纳税额\",\"prop\":\"taxAmount\"}},[_c('el-input',{attrs:{\"type\":\"number\",\"placeholder\":\"请输入应纳税额\",\"disabled\":_vm.dialogMode === 'view'},model:{value:(_vm.formData.taxAmount),callback:function ($$v) {_vm.$set(_vm.formData, \"taxAmount\", _vm._n($$v))},expression:\"formData.taxAmount\"}})],1)],1),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.dialogVisible = false}}},[_vm._v(\"取消\")]),(_vm.dialogMode !== 'view')?_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.handleSubmit}},[_vm._v(\"确定\")]):_vm._e()],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import axios from 'axios';\nimport service from \"@/api/api\";\n\n// 税务处理相关API\nexport const taxHandlingApi = {\n  page: (params) => {\n    return service({\n      url: '/tax-handling/page',\n      method: 'get',\n      params\n    });\n  },\n  // 获取税务处理列表\n  getList: (params) => {\n    return axios.get(`/tax-handling/list`, { params });\n  },\n\n  // 获取税务处理详情\n  getById: (id) => {\n    return axios.get(`/tax-handling/${id}`);\n  },\n\n  // 保存税务处理（新增或更新）\n  save: (data) => {\n    // 只传递后端实体类需要的字段\n    const entityData = {\n      id: data.id,\n      taxType: data.taxType,\n      taxPeriod: data.taxPeriod,\n      taxAmount: data.taxAmount,\n      paymentDate: data.paymentDate,\n      status: data.status\n    };\n    return data.id\n      ? axios.put(`/tax-handling`, entityData)\n      : axios.post(`/tax-handling`, entityData);\n  },\n\n  // 申报税务\n  declare: (id) => {\n    return axios.post(`/tax-handling/declare/${id}`);\n  },\n\n  // 缴纳税款\n  pay: (id) => {\n    return axios.post(`/tax-handling/pay/${id}`);\n  },\n\n  // 删除税务处理\n  delete: (id) => {\n    return axios.delete(`/tax-handling/${id}`);\n  },\n\n  // 导出税务报表\n  exportReport: (params) => {\n    return axios.get(`/tax-handling/export`, {\n      params,\n      responseType: 'blob'\n    });\n  }\n};\n\nexport default taxHandlingApi;\n","<template>\n  <el-card class=\"tax-handling-container\">\n    <div slot=\"header\" class=\"clearfix\">\n      <span>税务处理</span>\n      <el-button type=\"primary\" size=\"small\" @click=\"handleAddTax\" style=\"float: right; margin-right: 10px\">新增税务处理</el-button>\n    </div>\n    <!-- 搜索条件 -->\n    <div class=\"search-container\">\n      <el-form :inline=\"true\" :model=\"searchForm\" class=\"search-form\">\n        <el-form-item label=\"税务类型：\">\n          <el-select v-model=\"searchForm.taxType\" placeholder=\"请选择税务类型\">\n            <el-option label=\"增值税\" value=\"vat\"></el-option>\n            <el-option label=\"企业所得税\" value=\"income_tax\"></el-option>\n            <el-option label=\"城市维护建设税\" value=\"urban_tax\"></el-option>\n            <el-option label=\"教育费附加\" value=\"education_surcharge\"></el-option>\n          </el-select>\n        </el-form-item>\n        <el-form-item>\n          <el-button type=\"primary\" @click=\"handleSearch\">查询</el-button>\n          <el-button @click=\"handleReset\">重置</el-button>\n        </el-form-item>\n      </el-form>\n    </div>\n\n    <!-- 数据表格 -->\n    <div class=\"table-container\">\n      <el-table v-loading=\"loading\" :data=\"taxList\" style=\"width: 100%\">\n        <el-table-column prop=\"taxPeriod\" label=\"税务期间\"></el-table-column>\n        <el-table-column prop=\"taxType\" label=\"税务类型\">\n          <template slot-scope=\"scope\">\n            <span>{{ getTaxTypeName(scope.row.taxType) }}</span>\n          </template>\n        </el-table-column>\n        <el-table-column prop=\"taxAmount\" label=\"应纳税额\"></el-table-column>\n        <el-table-column prop=\"status\" label=\"处理状态\">\n          <template slot-scope=\"scope\">\n            <el-tag :type=\"getStatusType(scope.row.status)\">{{ getStatusName(scope.row.status) }}</el-tag>\n          </template>\n        </el-table-column>\n        <el-table-column prop=\"paymentDate\" label=\"缴款日期\" ></el-table-column>\n        <el-table-column label=\"操作\" width=\"150\" fixed=\"right\">\n          <template slot-scope=\"scope\">\n            <el-button size=\"small\" type=\"primary\" @click=\"handleEdit(scope.row)\" v-if=\"scope.row.status !== 2\">编辑</el-button>\n            <el-button size=\"small\" type=\"success\" @click=\"handleDeclare(scope.row)\" v-if=\"[0].includes(scope.row.status)\">申报</el-button>\n            <el-button size=\"small\" type=\"warning\" @click=\"handlePay(scope.row)\" v-if=\"scope.row.status === 1\">缴款</el-button>\n          </template>\n        </el-table-column>\n      </el-table>\n\n      <!-- 分页控件 -->\n      <div class=\"pagination-container\">\n        <el-pagination\n          @size-change=\"handleSizeChange\"\n          @current-change=\"handleCurrentChange\"\n          :current-page=\"pageInfo.currentPage\"\n          :page-sizes=\"[10, 20, 50, 100]\"\n          :page-size=\"pageInfo.pageSize\"\n          layout=\"total, sizes, prev, pager, next, jumper\"\n          :total=\"pageInfo.total\">\n        </el-pagination>\n      </div>\n    </div>\n\n    <!-- 税务处理详情对话框 -->\n    <el-dialog\n      :title=\"dialogTitle\"\n      :visible.sync=\"dialogVisible\"\n      width=\"600px\"\n      :close-on-click-modal=\"false\"\n    >\n      <el-form :model=\"formData\" :rules=\"rules\" ref=\"formRef\" label-width=\"120px\">\n        <el-form-item label=\"税务期间\" prop=\"taxPeriod\">\n          <el-date-picker\n            v-model=\"formData.taxPeriod\"\n            type=\"month\"\n            placeholder=\"选择月份\"\n            style=\"width: 100%;\"\n            :disabled=\"dialogMode === 'view'\">\n          </el-date-picker>\n        </el-form-item>\n        <el-form-item label=\"税务类型\" prop=\"taxType\">\n          <el-select style=\"width: 100%;\" v-model=\"formData.taxType\" placeholder=\"请选择税务类型\" :disabled=\"dialogMode === 'view'\">\n            <el-option label=\"增值税\" value=\"vat\"></el-option>\n            <el-option label=\"企业所得税\" value=\"income_tax\"></el-option>\n            <el-option label=\"城市维护建设税\" value=\"urban_tax\"></el-option>\n            <el-option label=\"教育费附加\" value=\"education_surcharge\"></el-option>\n          </el-select>\n        </el-form-item>\n        <el-form-item label=\"应纳税额\" prop=\"taxAmount\">\n          <el-input\n            v-model.number=\"formData.taxAmount\"\n            type=\"number\"\n            placeholder=\"请输入应纳税额\"\n            :disabled=\"dialogMode === 'view'\">\n          </el-input>\n        </el-form-item>\n      </el-form>\n      <div slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"dialogVisible = false\">取消</el-button>\n        <el-button type=\"primary\" @click=\"handleSubmit\" v-if=\"dialogMode !== 'view'\">确定</el-button>\n      </div>\n    </el-dialog>\n  </el-card>\n</template>\n\n<script>\n// 引入API服务\nimport { taxHandlingApi } from '../api/taxHandlingApi.js';\n\nexport default {\n  name: 'TaxHandling',\n  data() {\n    return {\n      loading: false,\n      taxList: [],\n      searchForm: {\n        taxPeriod: '',\n        taxType: '',\n        status: ''\n      },\n      pageInfo: {\n        currentPage: 1,\n        pageSize: 10,\n        total: 0\n      },\n      dialogVisible: false,\n      dialogMode: 'add', // add, edit, view\n      dialogTitle: '新增税务处理',\n      formData: {\n        id: '',\n        taxType: '',\n        taxPeriod: '',\n        taxAmount: 0,\n        paymentDate: '',\n        status: 0\n      },\n      rules: {\n        taxPeriod: [\n          { required: true, message: '请选择税务期间', trigger: 'change' }\n        ],\n        taxType: [\n          { required: true, message: '请选择税务类型', trigger: 'change' }\n        ],\n        taxAmount: [\n          { required: true, message: '请输入应纳税额', trigger: 'blur' },\n          { type: 'number', min: 0, message: '应纳税额必须大于等于0', trigger: 'blur' }\n        ]\n      }\n    };\n  },\n  created() {\n    // 组件创建时加载数据\n    this.loadData();\n  },\n  methods: {\n    // 加载数据\n    async loadData() {\n      this.loading = true;\n\n      try {\n        const params = {\n          page: this.pageInfo.currentPage,\n          pageSize: this.pageInfo.pageSize,\n          ...this.searchForm\n        };\n\n        const response = await taxHandlingApi.page(params);\n        const responseData = response.data || {};\n        this.taxList = responseData.records || [];\n        this.pageInfo.total = responseData.total || 0;\n      } catch (error) {\n        this.$message.error('获取税务处理列表失败: ' + (error.response?.data?.message || error.message));\n      } finally {\n        this.loading = false;\n      }\n    },\n\n    // 查询\n    handleSearch() {\n      this.pageInfo.currentPage = 1;\n      this.loadData();\n    },\n\n    // 重置\n    handleReset() {\n      this.searchForm = {\n        taxPeriod: '',\n        taxType: '',\n        status: ''\n      };\n      this.pageInfo.currentPage = 1;\n      this.loadData();\n    },\n\n    // 分页大小变化\n    handleSizeChange(val) {\n      this.pageInfo.pageSize = val;\n      this.loadData();\n    },\n\n    // 当前页变化\n    handleCurrentChange(val) {\n      this.pageInfo.currentPage = val;\n      this.loadData();\n    },\n\n    // 添加税务处理\n    handleAddTax() {\n      this.dialogMode = 'add';\n      this.dialogTitle = '新增税务处理';\n      this.resetForm();\n      this.dialogVisible = true;\n    },\n\n    // 查看税务处理\n    async handleView(row) {\n      this.dialogMode = 'view';\n      this.dialogTitle = '查看税务处理';\n      try {\n        const response = await taxHandlingApi.getById(row.id);\n        // 确保数据正确转换\n        const data = response.data.data || {};\n        this.formData = {\n          id: data.id || '',\n          taxType: data.taxType || '',\n          taxPeriod: data.taxPeriod || '',\n          taxAmount: data.taxAmount || 0,\n          paymentDate: data.paymentDate || '',\n          status: data.status !== undefined ? data.status : 0\n        };\n        this.dialogVisible = true;\n      } catch (error) {\n        this.$message.error('获取税务处理详情失败: ' + (error.response?.data?.message || error.message));\n      }\n    },\n\n    // 编辑税务处理\n    async handleEdit(row) {\n      this.dialogMode = 'edit';\n      this.dialogTitle = '编辑税务处理';\n      try {\n        const response = await taxHandlingApi.getById(row.id);\n        this.formData = { ...response.data.data };\n        this.dialogVisible = true;\n      } catch (error) {\n        this.$message.error('获取税务处理详情失败: ' + (error.response?.data?.message || error.message));\n      }\n    },\n\n    // 提交表单\n    async handleSubmit() {\n      this.$refs.formRef.validate(async (valid) => {\n        if (valid) {\n          try {\n            await taxHandlingApi.save(this.formData);\n            this.$message.success(this.dialogMode === 'add' ? '新增成功' : '编辑成功');\n            this.dialogVisible = false;\n            this.loadData();\n          } catch (error) {\n            this.$message.error('保存失败: ' + (error.response?.data?.message || error.message));\n          }\n        }\n      });\n    },\n\n    // 重置表单\n    resetForm() {\n      this.$refs.formRef && this.$refs.formRef.resetFields();\n      this.formData = {\n        id: '',\n        taxType: '',\n        taxPeriod: '',\n        taxAmount: 0,\n        paymentDate: '',\n        status: 0\n      };\n    },\n\n    // 申报税务\n    async handleDeclare(row) {\n      this.$confirm('确定要申报该税务处理记录吗？', '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(async () => {\n        try {\n          await taxHandlingApi.declare(row.id);\n          this.$message.success('申报成功');\n          this.loadData();\n        } catch (error) {\n          this.$message.error('申报失败: ' + (error.response?.data?.message || error.message));\n        }\n      }).catch(() => {\n        this.$message.info('已取消操作');\n      });\n    },\n\n    // 缴纳税款\n    async handlePay(row) {\n      this.$confirm('确定要缴纳该税款吗？', '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(async () => {\n        try {\n          await taxHandlingApi.pay(row.id);\n          this.$message.success('缴款成功');\n          this.loadData();\n        } catch (error) {\n          this.$message.error('缴款失败: ' + (error.response?.data?.message || error.message));\n        }\n      }).catch(() => {\n        this.$message.info('已取消操作');\n      });\n    },\n\n    // 导出税务报表\n    async handleExport() {\n      this.$confirm('确定要导出税务报表吗？', '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消'\n      }).then(async () => {\n        try {\n          const response = await taxHandlingApi.exportReport(this.searchForm);\n          // 处理文件下载\n          const blob = new Blob([response.data], { type: 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet' });\n          const url = window.URL.createObjectURL(blob);\n          const link = document.createElement('a');\n          link.href = url;\n          link.download = `税务报表_${new Date().toISOString().slice(0, 10)}.xlsx`;\n          document.body.appendChild(link);\n          link.click();\n          document.body.removeChild(link);\n          window.URL.revokeObjectURL(url);\n          this.$message.success('导出成功');\n        } catch (error) {\n          this.$message.error('导出失败: ' + (error.response?.data?.message || error.message));\n        }\n      }).catch(() => {\n        this.$message.info('已取消操作');\n      });\n    },\n\n    // 获取税务类型名称\n    getTaxTypeName(type) {\n      const taxTypes = {\n        'vat': '增值税',\n        'income_tax': '企业所得税',\n        'urban_tax': '城市维护建设税',\n        'education_surcharge': '教育费附加'\n      };\n      return taxTypes[type] || type;\n    },\n\n    // 获取状态名称\n    getStatusName(status) {\n      const statusMap = {\n        0: '待申报',\n        1: '已申报',\n        2: '已缴纳',\n      };\n      return statusMap[status] || '未知';\n    },\n\n    // 获取状态标签类型\n    getStatusType(status) {\n      const typeMap = {\n        0: 'danger',\n        1: 'warning',\n        2: 'info',\n        3: 'success'\n      };\n      return typeMap[status] || 'default';\n    }\n  },\n\n};\n</script>\n\n<style scoped>\n.tax-handling-container {\n  padding: 20px;\n}\n\n.page-header {\n  margin-bottom: 20px;\n}\n\n.toolbar {\n  margin-bottom: 16px;\n}\n\n.search-container {\n  margin-bottom: 16px;\n  padding: 16px;\n  border-radius: 4px;\n}\n\n.search-form {\n  margin-bottom: 0;\n}\n\n.table-container {\n  background-color: #fff;\n  padding: 16px;\n  border-radius: 4px;\n}\n\n.pagination-container {\n  margin-top: 16px;\n  text-align: right;\n}\n</style>\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./TaxHandling.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./TaxHandling.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./TaxHandling.vue?vue&type=template&id=5586bae6&scoped=true\"\nimport script from \"./TaxHandling.vue?vue&type=script&lang=js\"\nexport * from \"./TaxHandling.vue?vue&type=script&lang=js\"\nimport style0 from \"./TaxHandling.vue?vue&type=style&index=0&id=5586bae6&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5586bae6\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","staticClass","attrs","slot","_v","staticStyle","on","handleAddTax","searchForm","model","value","taxType","callback","$$v","$set","expression","handleSearch","handleReset","directives","name","rawName","loading","taxList","scopedSlots","_u","key","fn","scope","_s","getTaxTypeName","row","getStatusType","status","getStatusName","$event","handleEdit","_e","includes","handleDeclare","handlePay","pageInfo","currentPage","pageSize","total","handleSizeChange","handleCurrentChange","dialogTitle","dialogVisible","ref","formData","rules","dialogMode","taxPeriod","taxAmount","_n","handleSubmit","staticRenderFns","taxHandlingApi","page","params","service","url","method","getList","axios","get","getById","id","save","data","entityData","paymentDate","put","post","declare","pay","delete","exportReport","responseType","required","message","trigger","type","min","created","loadData","methods","response","responseData","records","error","$message","val","resetForm","handleView","undefined","$refs","formRef","validate","valid","success","resetFields","$confirm","confirmButtonText","cancelButtonText","then","catch","info","handleExport","blob","Blob","window","URL","createObjectURL","link","document","createElement","href","download","Date","toISOString","slice","body","appendChild","click","removeChild","revokeObjectURL","taxTypes","statusMap","typeMap","component"],"ignoreList":[],"sourceRoot":""}