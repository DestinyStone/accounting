{"version":3,"file":"js/837.36742d19.js","mappings":"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","sources":["webpack://demo/./src/views/EmployeeExpense.vue","webpack://demo/src/views/EmployeeExpense.vue","webpack://demo/./src/views/EmployeeExpense.vue?eebe","webpack://demo/./src/views/EmployeeExpense.vue?efd7"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"employee-expense-container\"},[_c('el-card',[_c('div',{staticClass:\"clearfix\",attrs:{\"slot\":\"header\"},slot:\"header\"},[_c('span',[_vm._v(\"员工费用管理\")]),_c('el-button',{staticStyle:{\"float\":\"right\"},attrs:{\"type\":\"primary\",\"size\":\"small\"},on:{\"click\":_vm.handleAdd}},[_vm._v(\"新增费用\")])],1),_c('el-form',{staticClass:\"search-form\",attrs:{\"inline\":true,\"model\":_vm.searchForm}},[_c('el-form-item',{attrs:{\"label\":\"费用类型\"}},[_c('el-select',{staticStyle:{\"width\":\"180px\"},attrs:{\"placeholder\":\"请选择费用类型\",\"clearable\":\"\"},model:{value:(_vm.searchForm.expenseType),callback:function ($$v) {_vm.$set(_vm.searchForm, \"expenseType\", $$v)},expression:\"searchForm.expenseType\"}},[_c('el-option',{attrs:{\"label\":\"薪资发放\",\"value\":\"薪资发放\"}}),_c('el-option',{attrs:{\"label\":\"费用报销\",\"value\":\"费用报销\"}}),_c('el-option',{attrs:{\"label\":\"员工补贴\",\"value\":\"员工补贴\"}})],1)],1),_c('el-form-item',{attrs:{\"label\":\"状态\"}},[_c('el-select',{staticStyle:{\"width\":\"140px\"},attrs:{\"placeholder\":\"请选择状态\",\"clearable\":\"\"},model:{value:(_vm.searchForm.status),callback:function ($$v) {_vm.$set(_vm.searchForm, \"status\", $$v)},expression:\"searchForm.status\"}},[_c('el-option',{attrs:{\"label\":\"全部\",\"value\":''}}),_c('el-option',{attrs:{\"label\":\"未支付\",\"value\":0}}),_c('el-option',{attrs:{\"label\":\"已支付\",\"value\":1}})],1)],1),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.handleSearch}},[_vm._v(\"查询\")]),_c('el-button',{on:{\"click\":_vm.handleReset}},[_vm._v(\"重置\")])],1)],1),_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.tableData},on:{\"selection-change\":_vm.handleSelectionChange}},[_c('el-table-column',{attrs:{\"prop\":\"employeeName\",\"label\":\"员工姓名\"}}),_c('el-table-column',{attrs:{\"prop\":\"expenseType\",\"label\":\"费用类型\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-tag',{attrs:{\"size\":\"small\"}},[_vm._v(_vm._s(scope.row.expenseType || '-'))])]}}])}),_c('el-table-column',{attrs:{\"prop\":\"remark\",\"label\":\"费用说明\"}}),_c('el-table-column',{attrs:{\"prop\":\"amount\",\"label\":\"费用金额\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\" \"+_vm._s(scope.row.amount.toFixed(2))+\" \")]}}])}),_c('el-table-column',{attrs:{\"prop\":\"status\",\"label\":\"状态\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-tag',{attrs:{\"type\":scope.row.status === 1 ? 'success' : 'warning'}},[_vm._v(\" \"+_vm._s(scope.row.status === 1 ? '已支付' : '未支付')+\" \")])]}}])}),_c('el-table-column',{attrs:{\"label\":\"操作\",\"width\":\"260\",\"fixed\":\"right\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.status === 0)?_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.handleEdit(scope.row)}}},[_vm._v(\"编辑\")]):_vm._e(),(scope.row.status === 0)?_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"danger\"},on:{\"click\":function($event){return _vm.handleDelete(scope.row.id)}}},[_vm._v(\"删除\")]):_vm._e(),(scope.row.status === 0)?_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"success\"},on:{\"click\":function($event){return _vm.handlePay(scope.row)}}},[_vm._v(\"支付\")]):_vm._e()]}}])})],1),_c('div',{staticClass:\"pagination-container\"},[_c('el-pagination',{attrs:{\"background\":\"\",\"current-page\":_vm.currentPage,\"page-size\":_vm.pageSize,\"total\":_vm.total,\"layout\":\"total, sizes, prev, pager, next, jumper\"},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange}})],1),(_vm.selectedRows.length > 0)?_c('div',{staticClass:\"batch-operation\"},[_c('el-button',{attrs:{\"type\":\"danger\"},on:{\"click\":_vm.handleBatchDelete}},[_vm._v(\"批量删除\")]),_c('el-button',{attrs:{\"type\":\"success\"},on:{\"click\":_vm.handleBatchReimburse}},[_vm._v(\"批量支付\")])],1):_vm._e()],1),_c('el-dialog',{attrs:{\"title\":_vm.dialogTitle,\"visible\":_vm.dialogVisible,\"width\":\"60%\"},on:{\"update:visible\":function($event){_vm.dialogVisible=$event}}},[_c('el-form',{ref:\"employeeExpenseForm\",attrs:{\"model\":_vm.form,\"rules\":_vm.rules,\"label-width\":\"100px\"}},[_c('el-row',{attrs:{\"gutter\":20}},[_c('el-col',{attrs:{\"span\":24}},[_c('el-form-item',{attrs:{\"label\":\"员工\",\"prop\":\"employeeId\"}},[_c('el-select',{staticStyle:{\"width\":\"100%\"},attrs:{\"placeholder\":\"请选择员工\"},model:{value:(_vm.form.employeeId),callback:function ($$v) {_vm.$set(_vm.form, \"employeeId\", $$v)},expression:\"form.employeeId\"}},_vm._l((_vm.employeeList),function(employee){return _c('el-option',{key:employee.id,attrs:{\"label\":employee.employeeName,\"value\":employee.id}})}),1)],1)],1),_c('el-col',{attrs:{\"span\":24}},[_c('el-form-item',{attrs:{\"label\":\"费用类型\",\"prop\":\"expenseType\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择费用类型\"},model:{value:(_vm.form.expenseType),callback:function ($$v) {_vm.$set(_vm.form, \"expenseType\", $$v)},expression:\"form.expenseType\"}},[_c('el-option',{attrs:{\"label\":\"薪资发放\",\"value\":\"薪资发放\"}}),_c('el-option',{attrs:{\"label\":\"费用报销\",\"value\":\"费用报销\"}}),_c('el-option',{attrs:{\"label\":\"员工补贴\",\"value\":\"员工补贴\"}})],1)],1)],1),_c('el-col',{attrs:{\"span\":24}},[_c('el-form-item',{attrs:{\"label\":\"费用说明\",\"prop\":\"remark\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入费用说明\"},model:{value:(_vm.form.remark),callback:function ($$v) {_vm.$set(_vm.form, \"remark\", $$v)},expression:\"form.remark\"}})],1)],1)],1),_c('el-row',{attrs:{\"gutter\":20}},[_c('el-col',{attrs:{\"span\":12}},[_c('el-form-item',{attrs:{\"label\":\"费用金额\",\"prop\":\"amount\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入费用金额\"},model:{value:(_vm.form.amount),callback:function ($$v) {_vm.$set(_vm.form, \"amount\", _vm._n($$v))},expression:\"form.amount\"}})],1)],1)],1)],1),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":_vm.handleCancel}},[_vm._v(\"取消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.handleSubmit}},[_vm._v(\"确定\")])],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"employee-expense-container\">\n    <el-card>\n      <div slot=\"header\" class=\"clearfix\">\n        <span>员工费用管理</span>\n        <el-button type=\"primary\" size=\"small\" @click=\"handleAdd\" style=\"float: right\">新增费用</el-button>\n      </div>\n\n      <!-- 查询条件 -->\n      <el-form :inline=\"true\" :model=\"searchForm\" class=\"search-form\">\n        <el-form-item label=\"费用类型\">\n          <el-select v-model=\"searchForm.expenseType\" placeholder=\"请选择费用类型\" clearable style=\"width: 180px;\">\n            <el-option label=\"薪资发放\" value=\"薪资发放\"></el-option>\n            <el-option label=\"费用报销\" value=\"费用报销\"></el-option>\n            <el-option label=\"员工补贴\" value=\"员工补贴\"></el-option>\n          </el-select>\n        </el-form-item>\n        <el-form-item label=\"状态\">\n          <el-select v-model=\"searchForm.status\" placeholder=\"请选择状态\" clearable style=\"width: 140px;\">\n            <el-option label=\"全部\" :value=\"''\"></el-option>\n            <el-option label=\"未支付\" :value=\"0\"></el-option>\n            <el-option label=\"已支付\" :value=\"1\"></el-option>\n          </el-select>\n        </el-form-item>\n        <el-form-item>\n          <el-button type=\"primary\" @click=\"handleSearch\">查询</el-button>\n          <el-button @click=\"handleReset\">重置</el-button>\n        </el-form-item>\n      </el-form>\n      <!-- 表格数据 -->\n      <el-table :data=\"tableData\" style=\"width: 100%\" @selection-change=\"handleSelectionChange\">\n        <el-table-column prop=\"employeeName\" label=\"员工姓名\"></el-table-column>\n        <el-table-column prop=\"expenseType\" label=\"费用类型\">\n          <template slot-scope=\"scope\">\n            <el-tag size=\"small\">{{ scope.row.expenseType || '-' }}</el-tag>\n          </template>\n        </el-table-column>\n        <el-table-column prop=\"remark\" label=\"费用说明\"></el-table-column>\n        <el-table-column prop=\"amount\" label=\"费用金额\">\n          <template slot-scope=\"scope\">\n            {{ scope.row.amount.toFixed(2) }}\n          </template>\n        </el-table-column>\n        <el-table-column prop=\"status\" label=\"状态\">\n          <template slot-scope=\"scope\">\n            <el-tag :type=\"scope.row.status === 1 ? 'success' : 'warning'\">\n              {{ scope.row.status === 1 ? '已支付' : '未支付' }}\n            </el-tag>\n          </template>\n        </el-table-column>\n        <el-table-column label=\"操作\" width=\"260\" fixed=\"right\">\n          <template slot-scope=\"scope\">\n            <el-button\n              type=\"primary\"\n              size=\"small\"\n              @click=\"handleEdit(scope.row)\"\n              v-if=\"scope.row.status === 0\"\n            >编辑</el-button>\n            <el-button\n              size=\"small\"\n              type=\"danger\"\n              @click=\"handleDelete(scope.row.id)\"\n              v-if=\"scope.row.status === 0\"\n            >删除</el-button>\n            <el-button\n              size=\"small\"\n              type=\"success\"\n              @click=\"handlePay(scope.row)\"\n              v-if=\"scope.row.status === 0\"\n            >支付</el-button>\n          </template>\n        </el-table-column>\n      </el-table>\n      <!-- 分页 -->\n      <div class=\"pagination-container\">\n        <el-pagination\n          background\n          :current-page=\"currentPage\"\n          :page-size=\"pageSize\"\n          :total=\"total\"\n          layout=\"total, sizes, prev, pager, next, jumper\"\n          @size-change=\"handleSizeChange\"\n          @current-change=\"handleCurrentChange\"\n        ></el-pagination>\n      </div>\n      <!-- 批量操作 -->\n      <div v-if=\"selectedRows.length > 0\" class=\"batch-operation\">\n        <el-button type=\"danger\" @click=\"handleBatchDelete\">批量删除</el-button>\n        <el-button type=\"success\" @click=\"handleBatchReimburse\">批量支付</el-button>\n      </div>\n    </el-card>\n    <!-- 费用表单对话框 -->\n    <el-dialog :title=\"dialogTitle\" :visible.sync=\"dialogVisible\" width=\"60%\">\n      <el-form :model=\"form\" :rules=\"rules\" ref=\"employeeExpenseForm\" label-width=\"100px\">\n        <el-row :gutter=\"20\">\n          <el-col :span=\"24\">\n            <el-form-item label=\"员工\" prop=\"employeeId\">\n              <el-select style=\"width: 100%;\" v-model=\"form.employeeId\" placeholder=\"请选择员工\">\n                <el-option v-for=\"employee in employeeList\" :key=\"employee.id\" :label=\"employee.employeeName\" :value=\"employee.id\"></el-option>\n              </el-select>\n            </el-form-item>\n          </el-col>\n          <el-col :span=\"24\">\n            <el-form-item label=\"费用类型\" prop=\"expenseType\">\n              <el-select v-model=\"form.expenseType\" placeholder=\"请选择费用类型\">\n                <el-option label=\"薪资发放\" value=\"薪资发放\"></el-option>\n                <el-option label=\"费用报销\" value=\"费用报销\"></el-option>\n                <el-option label=\"员工补贴\" value=\"员工补贴\"></el-option>\n              </el-select>\n            </el-form-item>\n          </el-col>\n          <el-col :span=\"24\">\n            <el-form-item label=\"费用说明\" prop=\"remark\">\n              <el-input v-model=\"form.remark\" placeholder=\"请输入费用说明\"></el-input>\n            </el-form-item>\n          </el-col>\n        </el-row>\n        <el-row :gutter=\"20\">\n          <el-col :span=\"12\">\n            <el-form-item label=\"费用金额\" prop=\"amount\">\n              <el-input v-model.number=\"form.amount\" placeholder=\"请输入费用金额\"></el-input>\n            </el-form-item>\n          </el-col>\n        </el-row>\n      </el-form>\n      <div slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"handleCancel\">取消</el-button>\n        <el-button type=\"primary\" @click=\"handleSubmit\">确定</el-button>\n      </div>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\nimport { employeeExpenseAPI, employeeAPI } from '../api/api.js'\n\nexport default {\n  name: 'EmployeeExpense',\n  data() {\n    return {\n      // 查询条件\n      searchForm: {\n        expenseType: '',\n        status: ''\n      },\n      // 表格数据\n      tableData: [],\n      currentPage: 1,\n      pageSize: 10,\n      total: 0,\n      // 选中的行\n      selectedRows: [],\n      // 对话框\n      dialogVisible: false,\n      dialogTitle: '',\n      // 表单数据\n      form: {\n        id: null,\n        expenseType: '',\n        remark: '',\n        amount: 0,\n        status: 0,\n        employeeId: null,\n        companyId: 1\n      },\n      // 表单验证规则\n      rules: {\n        employeeId: [\n          { required: true, message: '请选择员工', trigger: 'change' }\n        ],\n        expenseType: [\n          { required: true, message: '请选择费用类型', trigger: 'change' }\n        ],\n        remark: [\n          { required: true, message: '费用说明不能为空', trigger: 'blur' }\n        ],\n        amount: [\n          { required: true, message: '费用金额不能为空', trigger: 'blur' },\n          { type: 'number', min: 0.01, message: '费用金额必须大于0', trigger: 'blur' }\n        ]\n      }\n    }\n  },\n  mounted() {\n    // 先加载员工列表，再加载费用数据，避免异步顺序导致的关联字段为空\n    this.loadEmployees().then(() => {\n      this.loadData()\n    })\n  },\n  methods: {\n    // 加载员工列表\n    loadEmployees() {\n      // 获取激活状态的员工列表\n      const params = {\n        pageNum: 1,\n        pageSize: 100, // 假设最多100个员工\n        status: 1 // 激活状态\n      }\n      return employeeAPI.page(params).then(res => {\n        if (res.code === 200) {\n          this.employeeList = res.data.records\n        } else {\n          this.$message.error(res.message)\n        }\n      })\n    },\n\n    // 加载数据\n    loadData() {\n      const params = {\n        pageNum: this.currentPage,\n        pageSize: this.pageSize,\n        ...this.searchForm\n      }\n\n      employeeExpenseAPI.getList(params).then(res => {\n        if (res.code === 200) {\n          this.tableData = res.data.records\n          this.total = res.data.total\n          this.tableData.forEach(order => {\n            const employee = this.employeeList.find(s => s.id === order.employeeId)\n            if (employee) {\n              order.employeeName = employee.employeeName\n            }\n          })\n        } else {\n          this.$message.error(res.message)\n        }\n      }).catch(err => {\n        this.$message.error('加载数据失败')\n      })\n    },\n\n    // 查询\n    handleSearch() {\n      this.currentPage = 1\n      this.loadData()\n    },\n\n    // 重置\n    handleReset() {\n      this.searchForm = {\n        expenseType: '',\n        status: '',\n        employeeId: ''\n      }\n      this.loadData()\n    },\n\n    // 分页大小改变\n    handleSizeChange(size) {\n      this.pageSize = size\n      this.loadData()\n    },\n\n    // 当前页改变\n    handleCurrentChange(current) {\n      this.currentPage = current\n      this.loadData()\n    },\n\n    // 选择行变化\n    handleSelectionChange(rows) {\n      this.selectedRows = rows\n    },\n\n    // 新增\n    handleAdd() {\n      this.dialogTitle = '新增费用'\n      this.form = {\n        id: null,\n        expenseType: '',\n        remark: '',\n        amount: 0,\n        status: 0,\n        employeeId: null,\n        companyId: 1\n      }\n      this.dialogVisible = true\n    },\n\n    // 编辑\n    handleEdit(row) {\n      this.dialogTitle = '编辑费用'\n      employeeExpenseAPI.getDetail(row.id).then(res => {\n        if (res.code === 200) {\n          this.form = {\n            ...res.data\n          }\n          this.dialogVisible = true\n        } else {\n          this.$message.error(res.message)\n        }\n      })\n    },\n\n    // 删除\n    handleDelete(id) {\n      this.$confirm('确定要删除该费用吗？', '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(() => {\n        employeeExpenseAPI.delete(id).then(res => {\n          if (res.code === 200) {\n            this.$message.success('删除成功')\n            this.loadData()\n          } else {\n            this.$message.error(res.message)\n          }\n        }).catch(err => {\n          this.$message.error('删除失败')\n        })\n      })\n    },\n\n    // 批量删除\n    handleBatchDelete() {\n      const ids = this.selectedRows.map(row => row.id)\n      this.$confirm(`确定要删除选中的 ${ids.length} 个费用吗？`, '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(() => {\n        // 批量删除逻辑\n        // 这里简化处理，实际应该调用批量删除接口\n        ids.forEach(id => {\n          employeeExpenseAPI.delete(id).then(res => {\n            if (res.code !== 200) {\n              this.$message.error(res.message)\n            }\n          })\n        })\n        this.$message.success('批量删除成功')\n        this.loadData()\n        this.selectedRows = []\n      })\n    },\n\n    // 批量报销\n    handleBatchReimburse() {\n      const ids = this.selectedRows.map(row => row.id)\n      this.$confirm(`确定要报销选中的 ${ids.length} 个费用吗？`, '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(() => {\n        // 批量报销逻辑\n        ids.forEach(id => {\n          employeeExpenseAPI.approve(id).then(res => {\n            if (res.code !== 200) {\n              this.$message.error(res.message)\n            }\n          })\n        })\n        this.$message.success('批量报销成功')\n        this.loadData()\n        this.selectedRows = []\n      })\n    },\n\n    // 单条支付\n    handlePay(row) {\n      this.$confirm('确定要支付该费用吗？', '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(() => {\n        employeeExpenseAPI.approve(row.id).then(res => {\n          if (res.code === 200) {\n            this.$message.success('支付成功')\n            this.loadData()\n          } else {\n            this.$message.error(res.message || '支付失败')\n          }\n        }).catch(error => {\n          console.error('支付失败:', error)\n          const errorMsg = error.response?.data?.message || error.message || '支付失败，请检查网络连接或联系管理员'\n          this.$message.error(errorMsg)\n        })\n      }).catch(() => {\n        this.$message.info('已取消支付操作')\n      })\n    },\n\n    // 取消对话框\n    handleCancel() {\n      this.dialogVisible = false\n      this.$nextTick(() => {\n        if (this.$refs.employeeExpenseForm) {\n          this.$refs.employeeExpenseForm.resetFields()\n        }\n      })\n    },\n\n    // 提交表单\n    handleSubmit() {\n      this.$refs.employeeExpenseForm.validate((valid) => {\n        if (valid) {\n          if (this.form.id) {\n            // 编辑\n            employeeExpenseAPI.update(this.form).then(res => {\n              if (res.code === 200) {\n                this.$message.success('更新成功')\n                this.dialogVisible = false\n                this.loadData()\n              } else {\n                this.$message.error(res.message)\n              }\n            }).catch(err => {\n              this.$message.error('更新失败')\n            })\n          } else {\n            // 新增\n            employeeExpenseAPI.add(this.form).then(res => {\n              if (res.code === 200) {\n                this.$message.success('新增成功')\n                this.dialogVisible = false\n                this.loadData()\n              } else {\n                this.$message.error(res.message)\n              }\n            }).catch(err => {\n              this.$message.error('新增失败')\n            })\n          }\n        }\n      })\n    }\n  }\n}\n</script>\n\n<style scoped>\n.employee-expense-container {\n  padding: 20px;\n}\n\n.search-form {\n  margin-bottom: 20px;\n}\n\n.pagination-container {\n  margin-top: 20px;\n  text-align: right;\n}\n\n.batch-operation {\n  margin-top: 10px;\n}\n</style>\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./EmployeeExpense.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./EmployeeExpense.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./EmployeeExpense.vue?vue&type=template&id=c6cdc4ec&scoped=true\"\nimport script from \"./EmployeeExpense.vue?vue&type=script&lang=js\"\nexport * from \"./EmployeeExpense.vue?vue&type=script&lang=js\"\nimport style0 from \"./EmployeeExpense.vue?vue&type=style&index=0&id=c6cdc4ec&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"c6cdc4ec\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","staticClass","attrs","slot","_v","staticStyle","on","handleAdd","searchForm","model","value","expenseType","callback","$$v","$set","expression","status","handleSearch","handleReset","tableData","handleSelectionChange","scopedSlots","_u","key","fn","scope","_s","row","amount","toFixed","$event","handleEdit","_e","handleDelete","id","handlePay","currentPage","pageSize","total","handleSizeChange","handleCurrentChange","selectedRows","length","handleBatchDelete","handleBatchReimburse","dialogTitle","dialogVisible","ref","form","rules","employeeId","_l","employeeList","employee","employeeName","remark","_n","handleCancel","handleSubmit","staticRenderFns","name","data","companyId","required","message","trigger","type","min","mounted","loadEmployees","then","loadData","methods","params","pageNum","employeeAPI","page","res","code","records","$message","error","employeeExpenseAPI","getList","forEach","order","find","s","catch","err","size","current","rows","getDetail","$confirm","confirmButtonText","cancelButtonText","delete","success","ids","map","approve","console","errorMsg","response","info","$nextTick","$refs","employeeExpenseForm","resetFields","validate","valid","update","add","component"],"ignoreList":[],"sourceRoot":""}