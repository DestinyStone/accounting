{"version":3,"file":"js/487.c679dcba.js","mappings":"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","sources":["webpack://demo/./src/views/SalesOrder.vue","webpack://demo/src/views/SalesOrder.vue","webpack://demo/./src/views/SalesOrder.vue?d19a","webpack://demo/./src/views/SalesOrder.vue?c027"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"sales-order-container\"},[_c('el-card',[_c('div',{staticClass:\"clearfix\",attrs:{\"slot\":\"header\"},slot:\"header\"},[_c('span',[_vm._v(\"销售订单管理\")]),_c('el-button',{staticStyle:{\"float\":\"right\",\"margin-right\":\"10px\"},attrs:{\"type\":\"primary\",\"size\":\"small\"},on:{\"click\":_vm.handleAdd}},[_vm._v(\"新增订单\")])],1),_c('el-form',{staticClass:\"search-form\",attrs:{\"inline\":true,\"model\":_vm.searchForm}},[_c('el-form-item',{attrs:{\"label\":\"订单编号\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入订单编号\"},model:{value:(_vm.searchForm.orderNumber),callback:function ($$v) {_vm.$set(_vm.searchForm, \"orderNumber\", $$v)},expression:\"searchForm.orderNumber\"}})],1),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.handleSearch}},[_vm._v(\"查询\")]),_c('el-button',{on:{\"click\":_vm.handleReset}},[_vm._v(\"重置\")])],1)],1),_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.tableData},on:{\"selection-change\":_vm.handleSelectionChange}},[_c('el-table-column',{attrs:{\"prop\":\"orderNumber\",\"label\":\"订单编号\"}}),_c('el-table-column',{attrs:{\"prop\":\"customerName\",\"label\":\"客户名称\"}}),_c('el-table-column',{attrs:{\"prop\":\"totalAmount\",\"label\":\"订单金额\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\" \"+_vm._s(_vm._f(\"currency\")(scope.row.totalAmount))+\" \")]}}])}),_c('el-table-column',{attrs:{\"prop\":\"status\",\"label\":\"订单状态\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-tag',{attrs:{\"type\":_vm.getStatusType(scope.row.status)}},[_vm._v(\" \"+_vm._s(_vm.getStatusText(scope.row.status))+\" \")])]}}])}),_c('el-table-column',{attrs:{\"prop\":\"remark\",\"label\":\"描述\"}}),_c('el-table-column',{attrs:{\"label\":\"操作\",\"width\":\"280\",\"fixed\":\"right\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.status === 0)?_c('el-button',{attrs:{\"size\":\"small\"},on:{\"click\":function($event){return _vm.handleEdit(scope.row)}}},[_vm._v(\"编辑\")]):_vm._e(),(scope.row.status === 0 || scope.row.status === 3)?_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"danger\"},on:{\"click\":function($event){return _vm.handleDelete(scope.row.id)}}},[_vm._v(\"删除\")]):_vm._e(),(scope.row.status === 0)?_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"success\"},on:{\"click\":function($event){return _vm.handleApprove(scope.row)}}},[_vm._v(\"审核\")]):_vm._e()]}}])})],1),_c('div',{staticClass:\"pagination-container\"},[_c('el-pagination',{attrs:{\"background\":\"\",\"current-page\":_vm.currentPage,\"page-size\":_vm.pageSize,\"total\":_vm.total,\"layout\":\"total, sizes, prev, pager, next, jumper\"},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange}})],1)],1),_c('el-dialog',{attrs:{\"title\":_vm.dialogTitle,\"visible\":_vm.dialogVisible,\"width\":\"90%\"},on:{\"update:visible\":function($event){_vm.dialogVisible=$event}}},[_c('el-form',{ref:\"orderForm\",attrs:{\"model\":_vm.form,\"rules\":_vm.rules,\"label-width\":\"100px\"}},[_c('el-row',{attrs:{\"gutter\":24}},[_c('el-col',{attrs:{\"span\":24}},[_c('el-form-item',{attrs:{\"label\":\"订单编号\",\"prop\":\"orderNumber\"}},[_c('el-input',{attrs:{\"placeholder\":\"订单编号\"},model:{value:(_vm.form.orderNumber),callback:function ($$v) {_vm.$set(_vm.form, \"orderNumber\", $$v)},expression:\"form.orderNumber\"}})],1)],1),_c('el-col',{attrs:{\"span\":24}},[_c('el-form-item',{attrs:{\"label\":\"客户\",\"prop\":\"customerId\"}},[_c('el-select',{staticStyle:{\"width\":\"100%\"},attrs:{\"placeholder\":\"请选择客户\"},model:{value:(_vm.form.customerId),callback:function ($$v) {_vm.$set(_vm.form, \"customerId\", $$v)},expression:\"form.customerId\"}},_vm._l((_vm.customerList),function(customer){return _c('el-option',{key:customer.id,attrs:{\"label\":customer.customerName,\"value\":customer.id}})}),1)],1)],1)],1),_c('el-row',{attrs:{\"gutter\":24}},[_c('el-col',{attrs:{\"span\":24}},[_c('el-form-item',{attrs:{\"label\":\"订单金额\",\"prop\":\"totalAmount\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入订单金额\"},model:{value:(_vm.form.totalAmount),callback:function ($$v) {_vm.$set(_vm.form, \"totalAmount\", _vm._n($$v))},expression:\"form.totalAmount\"}})],1)],1)],1),_c('el-row',{attrs:{\"gutter\":20}},[_c('el-col',{attrs:{\"span\":24}},[_c('el-form-item',{attrs:{\"label\":\"描述\",\"prop\":\"remark\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入订单描述\",\"type\":\"textarea\",\"rows\":2},model:{value:(_vm.form.remark),callback:function ($$v) {_vm.$set(_vm.form, \"remark\", $$v)},expression:\"form.remark\"}})],1)],1)],1)],1),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":_vm.handleDialogCancel}},[_vm._v(\"取消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.handleFormSubmit}},[_vm._v(\"确定\")])],1)],1),_c('el-dialog',{attrs:{\"title\":\"审核销售订单\",\"visible\":_vm.approveDialogVisible,\"width\":\"80%\"},on:{\"update:visible\":function($event){_vm.approveDialogVisible=$event}}},[_c('el-descriptions',{attrs:{\"column\":2,\"border\":\"\"}},[_c('el-descriptions-item',{attrs:{\"label\":\"订单编号\"}},[_vm._v(_vm._s(_vm.approveForm.orderNumber))]),_c('el-descriptions-item',{attrs:{\"label\":\"客户\"}},[(_vm.approveForm.customerName)?_c('span',[_vm._v(_vm._s(_vm.approveForm.customerName))]):_c('span',[_vm._v(\"-\")])]),_c('el-descriptions-item',{attrs:{\"label\":\"订单金额\"}},[(_vm.approveForm.totalAmount)?_c('span',[_vm._v(_vm._s(_vm.formatCurrency(_vm.approveForm.totalAmount)))]):_c('span',[_vm._v(\"-\")])]),_c('el-descriptions-item',{attrs:{\"label\":\"订单状态\"}},[_c('el-tag',{attrs:{\"type\":_vm.getStatusType(_vm.approveForm.status)}},[_vm._v(_vm._s(_vm.getStatusText(_vm.approveForm.status)))])],1),_c('el-descriptions-item',{attrs:{\"label\":\"订单日期\",\"span\":2}},[(_vm.approveForm.orderDate)?_c('span',[_vm._v(_vm._s(_vm.formatDateTime(_vm.approveForm.orderDate)))]):_c('span',[_vm._v(\"-\")])]),_c('el-descriptions-item',{attrs:{\"label\":\"描述\",\"span\":2}},[(_vm.approveForm.remark)?_c('span',[_vm._v(_vm._s(_vm.approveForm.remark))]):_c('span',[_vm._v(\"-\")])])],1),_c('div',{staticClass:\"dialog-footer\",staticStyle:{\"text-align\":\"center\"},attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.approveDialogVisible = false}}},[_vm._v(\"取消\")]),_c('el-button',{attrs:{\"type\":\"danger\"},on:{\"click\":_vm.handleReject}},[_vm._v(\"审批驳回\")]),_c('el-button',{attrs:{\"type\":\"success\"},on:{\"click\":_vm.handleApproveConfirm}},[_vm._v(\"审批通过\")])],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"sales-order-container\">\n    <el-card>\n      <div slot=\"header\" class=\"clearfix\">\n        <span>销售订单管理</span>\n        <el-button type=\"primary\" size=\"small\" @click=\"handleAdd\" style=\"float: right; margin-right: 10px\">新增订单</el-button>\n      </div>\n\n      <!-- 查询条件 -->\n      <el-form :inline=\"true\" :model=\"searchForm\" class=\"search-form\">\n        <el-form-item label=\"订单编号\">\n          <el-input v-model=\"searchForm.orderNumber\" placeholder=\"请输入订单编号\"></el-input>\n        </el-form-item>\n        <el-form-item>\n          <el-button type=\"primary\" @click=\"handleSearch\">查询</el-button>\n          <el-button @click=\"handleReset\">重置</el-button>\n        </el-form-item>\n      </el-form>\n      <!-- 表格数据 -->\n      <el-table :data=\"tableData\" style=\"width: 100%\" @selection-change=\"handleSelectionChange\">\n        <el-table-column prop=\"orderNumber\" label=\"订单编号\"></el-table-column>\n        <el-table-column prop=\"customerName\" label=\"客户名称\"></el-table-column>\n        <el-table-column prop=\"totalAmount\" label=\"订单金额\">\n          <template slot-scope=\"scope\">\n            {{ scope.row.totalAmount | currency }}\n          </template>\n        </el-table-column>\n        <el-table-column prop=\"status\" label=\"订单状态\">\n          <template slot-scope=\"scope\">\n            <el-tag :type=\"getStatusType(scope.row.status)\">\n              {{ getStatusText(scope.row.status) }}\n            </el-tag>\n          </template>\n        </el-table-column>\n        <el-table-column prop=\"remark\" label=\"描述\"></el-table-column>\n        <el-table-column label=\"操作\" width=\"280\" fixed=\"right\">\n          <template slot-scope=\"scope\">\n            <el-button size=\"small\" v-if=\"scope.row.status === 0\" @click=\"handleEdit(scope.row)\">编辑</el-button>\n            <el-button size=\"small\" type=\"danger\" v-if=\"scope.row.status === 0 || scope.row.status === 3\" @click=\"handleDelete(scope.row.id)\">删除</el-button>\n            <el-button size=\"small\" type=\"success\" v-if=\"scope.row.status === 0\" @click=\"handleApprove(scope.row)\">审核</el-button>\n          </template>\n        </el-table-column>\n      </el-table>\n      <!-- 分页 -->\n      <div class=\"pagination-container\">\n        <el-pagination\n          background\n          :current-page=\"currentPage\"\n          :page-size=\"pageSize\"\n          :total=\"total\"\n          layout=\"total, sizes, prev, pager, next, jumper\"\n          @size-change=\"handleSizeChange\"\n          @current-change=\"handleCurrentChange\"\n        ></el-pagination>\n      </div>\n    </el-card>\n    <!-- 订单表单对话框 -->\n    <el-dialog :title=\"dialogTitle\" :visible.sync=\"dialogVisible\" width=\"90%\">\n      <el-form :model=\"form\" :rules=\"rules\" ref=\"orderForm\" label-width=\"100px\">\n        <el-row :gutter=\"24\">\n          <el-col :span=\"24\">\n            <el-form-item label=\"订单编号\" prop=\"orderNumber\">\n              <el-input v-model=\"form.orderNumber\" placeholder=\"订单编号\"></el-input>\n            </el-form-item>\n          </el-col>\n          <el-col :span=\"24\">\n            <el-form-item label=\"客户\" prop=\"customerId\">\n              <el-select style=\"width: 100%;\" v-model=\"form.customerId\" placeholder=\"请选择客户\">\n                <el-option v-for=\"customer in customerList\" :key=\"customer.id\" :label=\"customer.customerName\" :value=\"customer.id\"></el-option>\n              </el-select>\n            </el-form-item>\n          </el-col>\n        </el-row>\n        <el-row :gutter=\"24\">\n          <el-col :span=\"24\">\n            <el-form-item label=\"订单金额\" prop=\"totalAmount\">\n              <el-input v-model.number=\"form.totalAmount\" placeholder=\"请输入订单金额\"></el-input>\n            </el-form-item>\n          </el-col>\n        </el-row>\n        <el-row :gutter=\"20\">\n          <el-col :span=\"24\">\n            <el-form-item label=\"描述\" prop=\"remark\">\n              <el-input v-model=\"form.remark\" placeholder=\"请输入订单描述\" type=\"textarea\" :rows=\"2\"></el-input>\n            </el-form-item>\n          </el-col>\n        </el-row>\n      </el-form>\n      <div slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"handleDialogCancel\">取消</el-button>\n        <el-button type=\"primary\" @click=\"handleFormSubmit\">确定</el-button>\n      </div>\n    </el-dialog>\n\n    <!-- 审核对话框 -->\n    <el-dialog title=\"审核销售订单\" :visible.sync=\"approveDialogVisible\" width=\"80%\">\n      <el-descriptions :column=\"2\" border>\n        <el-descriptions-item label=\"订单编号\">{{ approveForm.orderNumber }}</el-descriptions-item>\n        <el-descriptions-item label=\"客户\">\n          <span v-if=\"approveForm.customerName\">{{ approveForm.customerName }}</span>\n          <span v-else>-</span>\n        </el-descriptions-item>\n        <el-descriptions-item label=\"订单金额\">\n          <span v-if=\"approveForm.totalAmount\">{{ formatCurrency(approveForm.totalAmount) }}</span>\n          <span v-else>-</span>\n        </el-descriptions-item>\n        <el-descriptions-item label=\"订单状态\">\n          <el-tag :type=\"getStatusType(approveForm.status)\">{{ getStatusText(approveForm.status) }}</el-tag>\n        </el-descriptions-item>\n        <el-descriptions-item label=\"订单日期\" :span=\"2\">\n          <span v-if=\"approveForm.orderDate\">{{ formatDateTime(approveForm.orderDate) }}</span>\n          <span v-else>-</span>\n        </el-descriptions-item>\n        <el-descriptions-item label=\"描述\" :span=\"2\">\n          <span v-if=\"approveForm.remark\">{{ approveForm.remark }}</span>\n          <span v-else>-</span>\n        </el-descriptions-item>\n      </el-descriptions>\n      <div slot=\"footer\" class=\"dialog-footer\" style=\"text-align: center;\">\n        <el-button @click=\"approveDialogVisible = false\">取消</el-button>\n        <el-button type=\"danger\" @click=\"handleReject\">审批驳回</el-button>\n        <el-button type=\"success\" @click=\"handleApproveConfirm\">审批通过</el-button>\n      </div>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\nimport {customerAPI, salesOrderAPI} from \"@/api/api\";\n\nexport default {\n  name: 'SalesOrder',\n  data() {\n    return {\n      // 查询条件\n      searchForm: {\n        orderNumber: '',\n        customerName: '',\n        orderStatus: ''\n      },\n      // 表格数据\n      tableData: [],\n      currentPage: 1,\n      pageSize: 10,\n      total: 0,\n      // 选中的行\n      selectedRows: [],\n      // 对话框\n      dialogVisible: false,\n      dialogTitle: '',\n      // 审核对话框\n      approveDialogVisible: false,\n      approveForm: {},\n      // 表单数据\n      form: {\n        id: null,\n        orderNumber: '',\n        customerId: null,\n        totalAmount: 0,\n        remark: '',\n        status: 0\n      },\n      // 表单验证规则\n      rules: {\n        orderNumber: [\n          { required: true, message: '订单编号不能为空', trigger: 'blur' }\n        ],\n        customerId: [\n          { required: true, message: '请选择客户', trigger: 'blur' }\n        ],\n        totalAmount: [\n          { required: true, message: '请输入订单金额', trigger: 'blur' },\n          { type: 'number', min: 0.01, message: '订单金额必须大于0', trigger: 'blur' }\n        ],\n        remark: [\n          { required: true, message: '请输入订单描述', trigger: 'blur' }\n        ]\n      },\n      // 客户列表\n      customerList: [],\n      // 其他数据\n\n      // 当前用户信息\n      currentUser: {\n        id: 1,\n        companyId: 1\n      }\n    }\n  },\n  mounted() {\n    // 先加载下拉数据（客户等），再加载订单数据，避免异步顺序问题\n    this.loadSelectData().then(() => {\n      this.loadData()\n    })\n  },\n  filters: {\n    currency(value) {\n      if (value === undefined || value === null) return '0.00'\n      return parseFloat(value).toFixed(2)\n    }\n  },\n  methods: {\n    // 格式化货币（方法形式）\n    formatCurrency(value) {\n      if (value === undefined || value === null) return '0.00'\n      return parseFloat(value).toFixed(2)\n    },\n    // 格式化日期时间\n    formatDateTime(dateTime) {\n      if (!dateTime) return '-'\n      const date = new Date(dateTime)\n      const year = date.getFullYear()\n      const month = String(date.getMonth() + 1).padStart(2, '0')\n      const day = String(date.getDate()).padStart(2, '0')\n      const hours = String(date.getHours()).padStart(2, '0')\n      const minutes = String(date.getMinutes()).padStart(2, '0')\n      const seconds = String(date.getSeconds()).padStart(2, '0')\n      return `${year}-${month}-${day} ${hours}:${minutes}:${seconds}`\n    },\n    // 加载数据\n    loadData() {\n      const params = {\n        pageNum: this.currentPage,\n        pageSize: this.pageSize,\n        ...this.searchForm\n      }\n\n      salesOrderAPI.page(params).then(res => {\n        if (res.code === 200) {\n          this.tableData = res.data.records\n          this.total = res.data.total\n          this.tableData.forEach(order => {\n            const customer = this.customerList.find(s => s.id === order.customerId)\n            console.log(this.customerList);\n            if (customer) {\n              order.customerName = customer.customerName\n            }\n          })\n        } else {\n          this.$message.error(res.message)\n        }\n      }).catch(err => {\n        this.$message.error('加载数据失败')\n      })\n    },\n\n    // 加载选择器数据\n    loadSelectData() {\n      // 加载客户列表\n      return customerAPI.getList().then(res => {\n        if (res.code === 200) {\n          this.customerList = res.data\n        }\n      })\n    },\n\n    // 查询\n    handleSearch() {\n      this.currentPage = 1\n      this.loadData()\n    },\n\n    // 重置\n    handleReset() {\n      this.searchForm = {\n        orderNumber: '',\n        customerName: '',\n        orderStatus: ''\n      }\n      this.loadData()\n    },\n\n    // 分页大小改变\n    handleSizeChange(size) {\n      this.pageSize = size\n      this.loadData()\n    },\n\n    // 当前页改变\n    handleCurrentChange(current) {\n      this.currentPage = current\n      this.loadData()\n    },\n\n    // 选择行变化\n    handleSelectionChange(rows) {\n      this.selectedRows = rows\n    },\n\n    // 获取状态类型\n    getStatusType(status) {\n      switch (status) {\n        case 0: return 'info'      // 待审核\n        case 1: return 'success'   // 已审核\n        case 2: return 'warning'    // 已过账\n        case 3: return 'danger'     // 已取消\n        default: return 'info'\n      }\n    },\n\n    // 获取状态文本\n    getStatusText(status) {\n      switch (status) {\n        case 0: return '待审核'\n        case 1: return '已审核'\n        case 2: return '已过账'\n        case 3: return '已取消'\n        default: return '未知'\n      }\n    },\n    // 新增\n    handleAdd() {\n      this.dialogTitle = '新增销售订单'\n      this.form = {\n        id: null,\n        orderNumber: '',\n        customerId: null,\n        totalAmount: 0,\n        remark: '',\n        status: 0  // 默认为待审核状态\n      }\n      this.dialogVisible = true\n    },\n\n    // 编辑\n    handleEdit(row) {\n      this.dialogTitle = '编辑销售订单'\n      this.form = {...row}\n      this.dialogVisible = true\n    },\n\n    // 查看\n    handleView(row) {\n      this.dialogTitle = '查看销售订单'\n      this.form = {...row};\n      this.dialogVisible = true\n    },\n\n    // 删除\n    handleDelete(id) {\n      this.$confirm('确定要删除该销售订单吗？', '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(() => {\n        salesOrderAPI.delete(id).then(res => {\n          if (res.code === 200) {\n            this.$message.success('删除成功')\n            this.loadData()\n          } else {\n            this.$message.error(res.message)\n          }\n        }).catch(err => {\n          this.$message.error('删除失败')\n        })\n      })\n    },\n\n    // 提交审核（已废弃，现在直接审核）\n    handleSubmit(id) {\n      this.$confirm('确定要提交审核该销售订单吗？', '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(() => {\n        salesOrderAPI.submit(id).then(res => {\n          if (res.code === 200) {\n            this.$message.success('提交审核成功')\n            this.loadData()\n          } else {\n            this.$message.error(res.message)\n          }\n        }).catch(err => {\n          this.$message.error('提交审核失败')\n        })\n      })\n    },\n\n    // 打开审核对话框\n    handleApprove(row) {\n      // 获取订单详情\n      salesOrderAPI.getById(row.id).then(res => {\n        if (res.code === 200) {\n          // 销售订单返回的是 { order: {...} } 格式\n          const orderData = res.data.order || res.data\n          this.approveForm = { ...orderData }\n          // 关联客户名称\n          const customer = this.customerList.find(c => c.id === this.approveForm.customerId)\n          if (customer) {\n            this.approveForm.customerName = customer.customerName\n          }\n          this.approveDialogVisible = true\n        } else {\n          this.$message.error(res.message || '获取订单详情失败')\n        }\n      }).catch(err => {\n        console.error('获取订单详情错误:', err)\n        this.$message.error('获取订单详情失败：' + (err.response?.data?.message || err.message || '未知错误'))\n      })\n    },\n\n    // 审批通过\n    handleApproveConfirm() {\n      this.$confirm('确定要审批通过该销售订单吗？审核通过后将自动生成凭证和税务记录', '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(() => {\n        salesOrderAPI.approve(this.approveForm.id, this.currentUser.id).then(res => {\n          if (res.code === 200) {\n            this.$message.success('审批通过，已自动生成凭证和税务记录')\n            this.approveDialogVisible = false\n            this.loadData()\n          } else {\n            this.$message.error(res.message)\n          }\n        }).catch(err => {\n          this.$message.error('审批失败：' + (err.response?.data?.message || err.message))\n        })\n      })\n    },\n\n    // 审批驳回\n    handleReject() {\n      this.$confirm('确定要驳回该销售订单吗？驳回后订单状态将变为已取消', '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(() => {\n        salesOrderAPI.cancel(this.approveForm.id, this.currentUser.id).then(res => {\n          if (res.code === 200) {\n            this.$message.success('审批驳回成功，订单已取消')\n            this.approveDialogVisible = false\n            this.loadData()\n          } else {\n            this.$message.error(res.message)\n          }\n        }).catch(err => {\n          this.$message.error('审批驳回失败：' + (err.response?.data?.message || err.message))\n        })\n      })\n    },\n\n    // 取消订单\n    handleCancel(id) {\n      this.$confirm('确定要取消该销售订单吗？', '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(() => {\n        salesOrderAPI.cancel(id).then(res => {\n          if (res.code === 200) {\n            this.$message.success('取消订单成功')\n            this.loadData()\n          } else {\n            this.$message.error(res.message)\n          }\n        }).catch(err => {\n          this.$message.error('取消订单失败')\n        })\n      })\n    },\n\n    // 取消对话框\n    handleDialogCancel() {\n      this.dialogVisible = false\n      this.$nextTick(() => {\n        if (this.$refs.orderForm) {\n          this.$refs.orderForm.resetFields()\n        }\n      })\n    },\n\n    // 提交表单\n    handleFormSubmit() {\n      this.$refs.orderForm.validate((valid) => {\n        if (valid) {\n          if (this.form.id) {\n            // 编辑\n            salesOrderAPI.update(this.form).then(res => {\n              if (res.code === 200) {\n                this.$message.success('更新成功')\n                this.dialogVisible = false\n                this.loadData()\n              } else {\n                this.$message.error(res.message)\n              }\n            }).catch(err => {\n              this.$message.error('更新失败')\n            })\n          } else {\n            // 新增\n            salesOrderAPI.add(this.form).then(res => {\n              if (res.code === 200) {\n                this.$message.success('新增成功')\n                this.dialogVisible = false\n                this.loadData()\n              } else {\n                this.$message.error(res.message)\n              }\n            }).catch(err => {\n              this.$message.error('新增失败')\n            })\n          }\n        }\n      })\n    },\n\n    // 添加明细\n    handleAddItem() {\n      this.form.items.push({\n        id: null,\n        productId: null,\n        productCode: '',\n        productName: '',\n        unit: '',\n        quantity: 1,\n        unitPrice: 0,\n        taxRate: 13,\n        totalAmount: 0,\n        taxtotalAmount: 0\n      })\n    },\n\n    // 删除明细\n    handleDeleteItem(index) {\n      this.form.items.splice(index, 1)\n      this.calculateTotal()\n    },\n\n    // 客户选择变化\n    onCustomerChange() {\n      const customer = this.customerList.find(c => c.id === this.form.customerId)\n      if (customer) {\n        this.form.customerName = customer.customerName\n        this.form.customerContact = customer.contactPerson\n        this.form.customerPhone = customer.contactPhone\n        this.form.customerAddress = customer.address\n      }\n    },\n\n    // 产品选择变化\n    onProductChange(row, index) {\n      const product = this.productList.find(p => p.id === row.productId)\n      if (product) {\n        row.productCode = product.productCode\n        row.productName = product.productName\n        row.unit = product.unit\n        row.unitPrice = product.salesPrice || 0\n        this.calculateItemtotalAmount(index)\n      }\n    },\n\n    // 计算单项金额\n    calculateItemtotalAmount(index) {\n      const item = this.form.items[index]\n      if (item.quantity && item.unitPrice) {\n        // 计算不含税金额\n        item.totalAmount = (item.quantity * item.unitPrice).toFixed(2)\n        // 计算税额\n        item.taxtotalAmount = (item.totalAmount * (item.taxRate / 100)).toFixed(2)\n      } else {\n        item.totalAmount = 0\n        item.taxtotalAmount = 0\n      }\n      this.calculateTotal()\n    },\n\n    // 计算总金额\n    calculateTotal() {\n      let totaltotalAmount = 0\n      let taxtotalAmount = 0\n      this.form.items.forEach(item => {\n        totaltotalAmount += parseFloat(item.totalAmount || 0)\n        taxtotalAmount += parseFloat(item.taxtotalAmount || 0)\n      })\n      this.form.totaltotalAmount = totaltotalAmount.toFixed(2)\n      this.form.taxtotalAmount = taxtotalAmount.toFixed(2)\n    },\n\n    // 获取今天日期\n    getToday() {\n      const today = new Date()\n      const year = today.getFullYear()\n      const month = String(today.getMonth() + 1).padStart(2, '0')\n      const day = String(today.getDate()).padStart(2, '0')\n      return `${year}-${month}-${day}`\n    }\n  }\n}\n</script>\n\n<style scoped>\n.sales-order-container {\n  padding: 20px;\n}\n\n.search-form {\n  margin-bottom: 20px;\n}\n\n.pagination-container {\n  margin-top: 20px;\n  text-align: right;\n}\n\n.table-header {\n  margin-bottom: 10px;\n}\n\n.total-info {\n  display: flex;\n  justify-content: flex-end;\n  padding: 10px;\n  background-color: #f5f7fa;\n  border-radius: 4px;\n}\n\n.total-item {\n  margin-left: 30px;\n}\n\n.total-label {\n  font-size: 14px;\n  color: #606266;\n}\n\n.total-value {\n  font-size: 16px;\n  color: #303133;\n  margin-left: 10px;\n}\n\n.total-bold {\n  font-weight: bold;\n  color: #1890ff;\n}\n\n/* 确保操作按钮在一行显示 */\n.el-table .cell {\n  white-space: nowrap;\n}\n\n.el-table .el-button + .el-button {\n  margin-left: 5px;\n}\n</style>\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./SalesOrder.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./SalesOrder.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./SalesOrder.vue?vue&type=template&id=780933b4&scoped=true\"\nimport script from \"./SalesOrder.vue?vue&type=script&lang=js\"\nexport * from \"./SalesOrder.vue?vue&type=script&lang=js\"\nimport style0 from \"./SalesOrder.vue?vue&type=style&index=0&id=780933b4&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"780933b4\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","staticClass","attrs","slot","_v","staticStyle","on","handleAdd","searchForm","model","value","orderNumber","callback","$$v","$set","expression","handleSearch","handleReset","tableData","handleSelectionChange","scopedSlots","_u","key","fn","scope","_s","_f","row","totalAmount","getStatusType","status","getStatusText","$event","handleEdit","_e","handleDelete","id","handleApprove","currentPage","pageSize","total","handleSizeChange","handleCurrentChange","dialogTitle","dialogVisible","ref","form","rules","customerId","_l","customerList","customer","customerName","_n","remark","handleDialogCancel","handleFormSubmit","approveDialogVisible","approveForm","formatCurrency","orderDate","formatDateTime","handleReject","handleApproveConfirm","staticRenderFns","name","data","orderStatus","selectedRows","required","message","trigger","type","min","currentUser","companyId","mounted","loadSelectData","then","loadData","filters","currency","undefined","parseFloat","toFixed","methods","dateTime","date","Date","year","getFullYear","month","String","getMonth","padStart","day","getDate","hours","getHours","minutes","getMinutes","seconds","getSeconds","params","pageNum","salesOrderAPI","page","res","code","records","forEach","order","find","s","console","log","$message","error","catch","err","customerAPI","getList","size","current","rows","handleView","$confirm","confirmButtonText","cancelButtonText","delete","success","handleSubmit","submit","getById","orderData","c","response","approve","cancel","handleCancel","$nextTick","$refs","orderForm","resetFields","validate","valid","update","add","handleAddItem","items","push","productId","productCode","productName","unit","quantity","unitPrice","taxRate","taxtotalAmount","handleDeleteItem","index","splice","calculateTotal","onCustomerChange","customerContact","contactPerson","customerPhone","contactPhone","customerAddress","address","onProductChange","product","productList","p","salesPrice","calculateItemtotalAmount","item","totaltotalAmount","getToday","today","component"],"ignoreList":[],"sourceRoot":""}