{"version":3,"file":"js/109.5497a537.js","mappings":"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","sources":["webpack://demo/./src/views/TaxHandling.vue","webpack://demo/./src/api/taxHandlingApi.js","webpack://demo/src/views/TaxHandling.vue","webpack://demo/./src/views/TaxHandling.vue?7a84","webpack://demo/./src/views/TaxHandling.vue?1b0c"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('el-card',{staticClass:\"tax-handling-container\"},[_c('div',{staticClass:\"clearfix\",attrs:{\"slot\":\"header\"},slot:\"header\"},[_c('span',[_vm._v(\"税务处理\")])]),_c('div',{staticClass:\"search-container\"},[_c('el-form',{staticClass:\"search-form\",attrs:{\"inline\":true,\"model\":_vm.searchForm}},[_c('el-form-item',{attrs:{\"label\":\"税务类型：\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择税务类型\"},model:{value:(_vm.searchForm.taxType),callback:function ($$v) {_vm.$set(_vm.searchForm, \"taxType\", $$v)},expression:\"searchForm.taxType\"}},[_c('el-option',{attrs:{\"label\":\"增值税\",\"value\":\"vat\"}}),_c('el-option',{attrs:{\"label\":\"企业所得税\",\"value\":\"income_tax\"}}),_c('el-option',{attrs:{\"label\":\"城市维护建设税\",\"value\":\"urban_tax\"}}),_c('el-option',{attrs:{\"label\":\"教育费附加\",\"value\":\"education_surcharge\"}})],1)],1),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.handleSearch}},[_vm._v(\"查询\")]),_c('el-button',{on:{\"click\":_vm.handleReset}},[_vm._v(\"重置\")])],1)],1)],1),_c('div',{staticClass:\"table-container\"},[_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.taxList}},[_c('el-table-column',{attrs:{\"prop\":\"taxPeriod\",\"label\":\"税务期间\"}}),_c('el-table-column',{attrs:{\"prop\":\"taxType\",\"label\":\"税务类型\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',[_vm._v(_vm._s(_vm.getTaxTypeName(scope.row.taxType)))])]}}])}),_c('el-table-column',{attrs:{\"prop\":\"taxAmount\",\"label\":\"应纳税额\"}}),_c('el-table-column',{attrs:{\"prop\":\"businessSourceInfo\",\"label\":\"数据来源\",\"width\":\"200\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.businessSourceInfo)?_c('el-tag',{attrs:{\"type\":\"info\",\"size\":\"small\"}},[_vm._v(\" \"+_vm._s(scope.row.businessSourceInfo)+\" \")]):_c('span',{staticStyle:{\"color\":\"#909399\"}},[_vm._v(\"-\")])]}}])}),_c('el-table-column',{attrs:{\"prop\":\"status\",\"label\":\"处理状态\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-tag',{attrs:{\"type\":_vm.getStatusType(scope.row.status)}},[_vm._v(_vm._s(_vm.getStatusName(scope.row.status)))])]}}])}),_c('el-table-column',{attrs:{\"prop\":\"paymentDate\",\"label\":\"缴款日期\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\" \"+_vm._s(_vm.formatDateTime(scope.row.paymentDate))+\" \")]}}])}),_c('el-table-column',{attrs:{\"label\":\"操作\",\"width\":\"250\",\"fixed\":\"right\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"info\"},on:{\"click\":function($event){return _vm.handleView(scope.row)}}},[_vm._v(\"查看\")]),([0].includes(scope.row.status))?_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"success\"},on:{\"click\":function($event){return _vm.handleDeclare(scope.row)}}},[_vm._v(\"申报\")]):_vm._e(),(scope.row.status === 1)?_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"warning\"},on:{\"click\":function($event){return _vm.handlePay(scope.row)}}},[_vm._v(\"缴款\")]):_vm._e()]}}])})],1),_c('div',{staticClass:\"pagination-container\"},[_c('el-pagination',{attrs:{\"current-page\":_vm.pageInfo.currentPage,\"page-sizes\":[10, 20, 50, 100],\"page-size\":_vm.pageInfo.pageSize,\"layout\":\"total, sizes, prev, pager, next, jumper\",\"total\":_vm.pageInfo.total},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange}})],1)],1),_c('el-dialog',{attrs:{\"modal-append-to-body\":\"\",\"title\":\"查看税务处理详情\",\"visible\":_vm.dialogVisible,\"width\":\"600px\",\"close-on-click-modal\":false},on:{\"update:visible\":function($event){_vm.dialogVisible=$event}}},[_c('el-form',{attrs:{\"model\":_vm.formData,\"label-width\":\"120px\",\"disabled\":true}},[_c('el-form-item',{attrs:{\"label\":\"税务期间\"}},[_c('el-date-picker',{staticStyle:{\"width\":\"100%\"},attrs:{\"type\":\"month\",\"placeholder\":\"选择月份\",\"disabled\":\"\"},model:{value:(_vm.formData.taxPeriod),callback:function ($$v) {_vm.$set(_vm.formData, \"taxPeriod\", $$v)},expression:\"formData.taxPeriod\"}})],1),_c('el-form-item',{attrs:{\"label\":\"税务类型\"}},[_c('el-select',{staticStyle:{\"width\":\"100%\"},attrs:{\"placeholder\":\"请选择税务类型\",\"disabled\":\"\"},model:{value:(_vm.formData.taxType),callback:function ($$v) {_vm.$set(_vm.formData, \"taxType\", $$v)},expression:\"formData.taxType\"}},[_c('el-option',{attrs:{\"label\":\"增值税\",\"value\":\"vat\"}}),_c('el-option',{attrs:{\"label\":\"企业所得税\",\"value\":\"income_tax\"}}),_c('el-option',{attrs:{\"label\":\"城市维护建设税\",\"value\":\"urban_tax\"}}),_c('el-option',{attrs:{\"label\":\"教育费附加\",\"value\":\"education_surcharge\"}}),_c('el-option',{attrs:{\"label\":\"个人所得税\",\"value\":\"personal_income_tax\"}})],1)],1),_c('el-form-item',{attrs:{\"label\":\"应纳税额\"}},[_c('el-input',{attrs:{\"type\":\"number\",\"placeholder\":\"请输入应纳税额\",\"disabled\":\"\"},model:{value:(_vm.formData.taxAmount),callback:function ($$v) {_vm.$set(_vm.formData, \"taxAmount\", _vm._n($$v))},expression:\"formData.taxAmount\"}})],1),_c('el-form-item',{attrs:{\"label\":\"数据来源\"}},[(_vm.formData.businessSourceInfo)?_c('el-tag',{attrs:{\"type\":\"info\"}},[_vm._v(\" \"+_vm._s(_vm.formData.businessSourceInfo)+\" \")]):_c('span',{staticStyle:{\"color\":\"#909399\"}},[_vm._v(\"-\")])],1),_c('el-form-item',{attrs:{\"label\":\"状态\"}},[_c('el-tag',{attrs:{\"type\":_vm.getStatusType(_vm.formData.status)}},[_vm._v(_vm._s(_vm.getStatusName(_vm.formData.status)))])],1),(_vm.formData.paymentDate)?_c('el-form-item',{attrs:{\"label\":\"缴款日期\"}},[_c('span',[_vm._v(_vm._s(_vm.formatDateTime(_vm.formData.paymentDate)))])]):_vm._e()],1),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.dialogVisible = false}}},[_vm._v(\"关闭\")])],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import axios from 'axios';\nimport service from \"@/api/api\";\n\n// 税务处理相关API\nexport const taxHandlingApi = {\n  page: (params) => {\n    return service({\n      url: '/tax-handling/page',\n      method: 'get',\n      params\n    });\n  },\n  // 获取税务处理列表\n  getList: (params) => {\n    return axios.get(`/tax-handling/list`, { params });\n  },\n\n  // 获取税务处理详情\n  getById: (id) => {\n    return axios.get(`/tax-handling/${id}`);\n  },\n\n  // 保存税务处理（新增或更新）\n  save: (data) => {\n    // 只传递后端实体类需要的字段\n    const entityData = {\n      id: data.id,\n      taxType: data.taxType,\n      taxPeriod: data.taxPeriod,\n      taxAmount: data.taxAmount,\n      paymentDate: data.paymentDate,\n      status: data.status\n    };\n    return data.id\n      ? axios.put(`/tax-handling`, entityData)\n      : axios.post(`/tax-handling`, entityData);\n  },\n\n  // 申报税务\n  declare: (id) => {\n    return axios.post(`/tax-handling/declare/${id}`);\n  },\n\n  // 缴纳税款\n  pay: (id) => {\n    return axios.post(`/tax-handling/pay/${id}`);\n  },\n\n  // 删除税务处理\n  delete: (id) => {\n    return axios.delete(`/tax-handling/${id}`);\n  },\n\n  // 导出税务报表\n  exportReport: (params) => {\n    return axios.get(`/tax-handling/export`, {\n      params,\n      responseType: 'blob'\n    });\n  }\n};\n\nexport default taxHandlingApi;\n","<template>\n  <el-card class=\"tax-handling-container\">\n    <div slot=\"header\" class=\"clearfix\">\n      <span>税务处理</span>\n    </div>\n    <!-- 搜索条件 -->\n    <div class=\"search-container\">\n      <el-form :inline=\"true\" :model=\"searchForm\" class=\"search-form\">\n        <el-form-item label=\"税务类型：\">\n          <el-select v-model=\"searchForm.taxType\" placeholder=\"请选择税务类型\">\n            <el-option label=\"增值税\" value=\"vat\"></el-option>\n            <el-option label=\"企业所得税\" value=\"income_tax\"></el-option>\n            <el-option label=\"城市维护建设税\" value=\"urban_tax\"></el-option>\n            <el-option label=\"教育费附加\" value=\"education_surcharge\"></el-option>\n          </el-select>\n        </el-form-item>\n        <el-form-item>\n          <el-button type=\"primary\" @click=\"handleSearch\">查询</el-button>\n          <el-button @click=\"handleReset\">重置</el-button>\n        </el-form-item>\n      </el-form>\n    </div>\n\n    <!-- 数据表格 -->\n    <div class=\"table-container\">\n      <el-table v-loading=\"loading\" :data=\"taxList\" style=\"width: 100%\">\n        <el-table-column prop=\"taxPeriod\" label=\"税务期间\"></el-table-column>\n        <el-table-column prop=\"taxType\" label=\"税务类型\">\n          <template slot-scope=\"scope\">\n            <span>{{ getTaxTypeName(scope.row.taxType) }}</span>\n          </template>\n        </el-table-column>\n        <el-table-column prop=\"taxAmount\" label=\"应纳税额\"></el-table-column>\n        <el-table-column prop=\"businessSourceInfo\" label=\"数据来源\" width=\"200\">\n          <template slot-scope=\"scope\">\n            <el-tag v-if=\"scope.row.businessSourceInfo\" type=\"info\" size=\"small\">\n              {{ scope.row.businessSourceInfo }}\n            </el-tag>\n            <span v-else style=\"color: #909399;\">-</span>\n          </template>\n        </el-table-column>\n        <el-table-column prop=\"status\" label=\"处理状态\">\n          <template slot-scope=\"scope\">\n            <el-tag :type=\"getStatusType(scope.row.status)\">{{ getStatusName(scope.row.status) }}</el-tag>\n          </template>\n        </el-table-column>\n        <el-table-column prop=\"paymentDate\" label=\"缴款日期\">\n          <template slot-scope=\"scope\">\n            {{ formatDateTime(scope.row.paymentDate) }}\n          </template>\n        </el-table-column>\n        <el-table-column label=\"操作\" width=\"250\" fixed=\"right\">\n          <template slot-scope=\"scope\">\n            <el-button size=\"small\" type=\"info\" @click=\"handleView(scope.row)\">查看</el-button>\n            <el-button size=\"small\" type=\"success\" @click=\"handleDeclare(scope.row)\" v-if=\"[0].includes(scope.row.status)\">申报</el-button>\n            <el-button size=\"small\" type=\"warning\" @click=\"handlePay(scope.row)\" v-if=\"scope.row.status === 1\">缴款</el-button>\n          </template>\n        </el-table-column>\n      </el-table>\n\n      <!-- 分页控件 -->\n      <div class=\"pagination-container\">\n        <el-pagination\n          @size-change=\"handleSizeChange\"\n          @current-change=\"handleCurrentChange\"\n          :current-page=\"pageInfo.currentPage\"\n          :page-sizes=\"[10, 20, 50, 100]\"\n          :page-size=\"pageInfo.pageSize\"\n          layout=\"total, sizes, prev, pager, next, jumper\"\n          :total=\"pageInfo.total\">\n        </el-pagination>\n      </div>\n    </div>\n\n    <!-- 查看税务处理详情对话框（只读） -->\n    <el-dialog\n        modal-append-to-body\n      title=\"查看税务处理详情\"\n      :visible.sync=\"dialogVisible\"\n      width=\"600px\"\n      :close-on-click-modal=\"false\"\n    >\n      <el-form :model=\"formData\" label-width=\"120px\" :disabled=\"true\">\n        <el-form-item label=\"税务期间\">\n          <el-date-picker\n            v-model=\"formData.taxPeriod\"\n            type=\"month\"\n            placeholder=\"选择月份\"\n            style=\"width: 100%;\"\n            disabled>\n          </el-date-picker>\n        </el-form-item>\n        <el-form-item label=\"税务类型\">\n          <el-select style=\"width: 100%;\" v-model=\"formData.taxType\" placeholder=\"请选择税务类型\" disabled>\n            <el-option label=\"增值税\" value=\"vat\"></el-option>\n            <el-option label=\"企业所得税\" value=\"income_tax\"></el-option>\n            <el-option label=\"城市维护建设税\" value=\"urban_tax\"></el-option>\n            <el-option label=\"教育费附加\" value=\"education_surcharge\"></el-option>\n            <el-option label=\"个人所得税\" value=\"personal_income_tax\"></el-option>\n          </el-select>\n        </el-form-item>\n        <el-form-item label=\"应纳税额\">\n          <el-input\n            v-model.number=\"formData.taxAmount\"\n            type=\"number\"\n            placeholder=\"请输入应纳税额\"\n            disabled>\n          </el-input>\n        </el-form-item>\n        <el-form-item label=\"数据来源\">\n          <el-tag v-if=\"formData.businessSourceInfo\" type=\"info\">\n            {{ formData.businessSourceInfo }}\n          </el-tag>\n          <span v-else style=\"color: #909399;\">-</span>\n        </el-form-item>\n        <el-form-item label=\"状态\">\n          <el-tag :type=\"getStatusType(formData.status)\">{{ getStatusName(formData.status) }}</el-tag>\n        </el-form-item>\n        <el-form-item label=\"缴款日期\" v-if=\"formData.paymentDate\">\n          <span>{{ formatDateTime(formData.paymentDate) }}</span>\n        </el-form-item>\n      </el-form>\n      <div slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"dialogVisible = false\">关闭</el-button>\n      </div>\n    </el-dialog>\n  </el-card>\n</template>\n\n<script>\n// 引入API服务\nimport { taxHandlingApi } from '../api/taxHandlingApi.js';\n\nexport default {\n  name: 'TaxHandling',\n  data() {\n    return {\n      loading: false,\n      taxList: [],\n      searchForm: {\n        taxPeriod: '',\n        taxType: '',\n        status: ''\n      },\n      pageInfo: {\n        currentPage: 1,\n        pageSize: 10,\n        total: 0\n      },\n      dialogVisible: false,\n      formData: {\n        id: '',\n        taxType: '',\n        taxPeriod: '',\n        taxAmount: 0,\n        paymentDate: '',\n        status: 0,\n        businessSourceInfo: ''\n      },\n      // 已移除：表单验证规则（不再需要表单提交）\n    };\n  },\n  created() {\n    // 组件创建时加载数据\n    this.loadData();\n  },\n  methods: {\n    // 日期时间格式化：yyyy-MM-dd HH:mm:ss\n    formatDateTime(dateTime) {\n      if (!dateTime) return '-';\n      const date = new Date(dateTime);\n      const year = date.getFullYear();\n      const month = String(date.getMonth() + 1).padStart(2, '0');\n      const day = String(date.getDate()).padStart(2, '0');\n      const hours = String(date.getHours()).padStart(2, '0');\n      const minutes = String(date.getMinutes()).padStart(2, '0');\n      const seconds = String(date.getSeconds()).padStart(2, '0');\n      return `${year}-${month}-${day} ${hours}:${minutes}:${seconds}`;\n    },\n    // 加载数据\n    async loadData() {\n      this.loading = true;\n\n      try {\n        const params = {\n          pageNum: this.pageInfo.currentPage,\n          pageSize: this.pageInfo.pageSize,\n          ...this.searchForm\n        };\n\n        const response = await taxHandlingApi.page(params);\n        const responseData = response.data || {};\n        // 处理分页数据结构\n        const records = responseData.records || responseData.data?.records || [];\n        this.taxList = records;\n        this.pageInfo.total = responseData.total || responseData.data?.total || 0;\n      } catch (error) {\n        this.$message.error('获取税务处理列表失败: ' + (error.response?.data?.message || error.message));\n      } finally {\n        this.loading = false;\n      }\n    },\n\n    // 查询\n    handleSearch() {\n      this.pageInfo.currentPage = 1;\n      this.loadData();\n    },\n\n    // 重置\n    handleReset() {\n      this.searchForm = {\n        taxPeriod: '',\n        taxType: '',\n        status: ''\n      };\n      this.pageInfo.currentPage = 1;\n      this.loadData();\n    },\n\n    // 分页大小变化\n    handleSizeChange(val) {\n      this.pageInfo.pageSize = val;\n      this.loadData();\n    },\n\n    // 当前页变化\n    handleCurrentChange(val) {\n      this.pageInfo.currentPage = val;\n      this.loadData();\n    },\n\n    // 查看税务处理详情（只读）\n    async handleView(row) {\n      try {\n        const response = await taxHandlingApi.getById(row.id);\n        // 确保数据正确转换 - 兼容不同的响应格式\n        const data = response.data?.data || response.data || {};\n        this.formData = {\n          id: data.id || '',\n          taxType: data.taxType || '',\n          taxPeriod: data.taxPeriod || '',\n          taxAmount: data.taxAmount || 0,\n          paymentDate: data.paymentDate || '',\n          status: data.status !== undefined ? data.status : 0,\n          businessSourceInfo: data.businessSourceInfo || ''\n        };\n        this.dialogVisible = true;\n      } catch (error) {\n        this.$message.error('获取税务处理详情失败: ' + (error.response?.data?.message || error.message));\n      }\n    },\n\n    // 已移除：重置表单方法（不再需要）\n\n    // 申报税务\n    async handleDeclare(row) {\n      this.$confirm('确定要申报该税务处理记录吗？', '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(async () => {\n        try {\n          await taxHandlingApi.declare(row.id);\n          this.$message.success('申报成功');\n          this.loadData();\n        } catch (error) {\n          this.$message.error('申报失败: ' + (error.response?.data?.message || error.message));\n        }\n      }).catch(() => {\n        this.$message.info('已取消操作');\n      });\n    },\n\n    // 缴纳税款\n    async handlePay(row) {\n      this.$confirm('确定要缴纳该税款吗？', '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(async () => {\n        try {\n          await taxHandlingApi.pay(row.id);\n          this.$message.success('缴款成功');\n          this.loadData();\n        } catch (error) {\n          this.$message.error('缴款失败: ' + (error.response?.data?.message || error.message));\n        }\n      }).catch(() => {\n        this.$message.info('已取消操作');\n      });\n    },\n\n    // 已移除：导出税务报表功能（如需要可后续添加）\n\n    // 获取税务类型名称\n    getTaxTypeName(type) {\n      const taxTypes = {\n        'vat': '增值税',\n        'income_tax': '企业所得税',\n        'urban_tax': '城市维护建设税',\n        'education_surcharge': '教育费附加'\n      };\n      return taxTypes[type] || type;\n    },\n\n    // 获取状态名称\n    getStatusName(status) {\n      const statusMap = {\n        0: '待申报',\n        1: '已申报',\n        2: '已缴纳',\n      };\n      return statusMap[status] || '未知';\n    },\n\n    // 获取状态标签类型\n    getStatusType(status) {\n      const typeMap = {\n        0: 'danger',\n        1: 'warning',\n        2: 'info',\n        3: 'success'\n      };\n      return typeMap[status] || 'default';\n    }\n  },\n\n};\n</script>\n\n<style scoped>\n.tax-handling-container {\n  padding: 20px;\n}\n\n.page-header {\n  margin-bottom: 20px;\n}\n\n.toolbar {\n  margin-bottom: 16px;\n}\n\n.search-container {\n  margin-bottom: 16px;\n  padding: 16px;\n  border-radius: 4px;\n}\n\n.search-form {\n  margin-bottom: 0;\n}\n\n.table-container {\n  background-color: #fff;\n  padding: 16px;\n  border-radius: 4px;\n}\n\n.pagination-container {\n  margin-top: 16px;\n  text-align: right;\n}\n</style>\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./TaxHandling.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./TaxHandling.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./TaxHandling.vue?vue&type=template&id=87664de8&scoped=true\"\nimport script from \"./TaxHandling.vue?vue&type=script&lang=js\"\nexport * from \"./TaxHandling.vue?vue&type=script&lang=js\"\nimport style0 from \"./TaxHandling.vue?vue&type=style&index=0&id=87664de8&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"87664de8\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","staticClass","attrs","slot","_v","searchForm","model","value","taxType","callback","$$v","$set","expression","on","handleSearch","handleReset","directives","name","rawName","loading","staticStyle","taxList","scopedSlots","_u","key","fn","scope","_s","getTaxTypeName","row","businessSourceInfo","getStatusType","status","getStatusName","formatDateTime","paymentDate","$event","handleView","includes","handleDeclare","_e","handlePay","pageInfo","currentPage","pageSize","total","handleSizeChange","handleCurrentChange","dialogVisible","formData","taxPeriod","taxAmount","_n","staticRenderFns","taxHandlingApi","page","params","service","url","method","getList","axios","get","getById","id","save","data","entityData","put","post","declare","pay","delete","exportReport","responseType","created","loadData","methods","dateTime","date","Date","year","getFullYear","month","String","getMonth","padStart","day","getDate","hours","getHours","minutes","getMinutes","seconds","getSeconds","pageNum","response","responseData","records","error","$message","message","val","undefined","$confirm","confirmButtonText","cancelButtonText","type","then","success","catch","info","taxTypes","statusMap","typeMap","component"],"ignoreList":[],"sourceRoot":""}